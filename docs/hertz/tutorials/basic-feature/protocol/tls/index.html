<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>TLS | CloudWeGo</title><meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:title" content="TLS"><meta property="og:description" content="Hertz supports TLS secure transmission, helping users achieve data confidentiality and integrity.
 If you need TLS, Please use go net lib instead. netpoll is now working on it but not ready yet.
 In tls.Config, the parameters that the server and client both can use are as follows:
   Parameter Introduce     Certificates Used to add certificates, multiple certificates can be configured.  Both ends automatically select the first certificate for verification."><meta property="og:type" content="article"><meta property="og:url" content="https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/protocol/tls/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-11-06T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-12T14:21:54+08:00"><meta property="og:site_name" content="CloudWeGo"><meta itemprop=name content="TLS"><meta itemprop=description content="Hertz supports TLS secure transmission, helping users achieve data confidentiality and integrity.
 If you need TLS, Please use go net lib instead. netpoll is now working on it but not ready yet.
 In tls.Config, the parameters that the server and client both can use are as follows:
   Parameter Introduce     Certificates Used to add certificates, multiple certificates can be configured.  Both ends automatically select the first certificate for verification."><meta itemprop=datePublished content="2022-11-06T00:00:00+00:00"><meta itemprop=dateModified content="2023-04-12T14:21:54+08:00"><meta itemprop=wordCount content="1243"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="TLS"><meta name=twitter:description content="Hertz supports TLS secure transmission, helping users achieve data confidentiality and integrity.
 If you need TLS, Please use go net lib instead. netpoll is now working on it but not ready yet.
 In tls.Config, the parameters that the server and client both can use are as follows:
   Parameter Introduce     Certificates Used to add certificates, multiple certificates can be configured.  Both ends automatically select the first certificate for verification."><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QYWRQRLPRM')</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><link rel=preload href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css as=style><link href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css rel=stylesheet integrity><script src=https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><link rel=stylesheet href=/css/docsearch.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QYWRQRLPRM','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/docs/volo/>Volo</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/docs/cwgo/>Cwgo</a>
<a class=dropdown-item href=/docs/motore/>Motore</a>
<a class=dropdown-item href=/docs/pilota/>Pilota</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cooperation/><span>Cooperation</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Security</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/security/safety-bulletin/>safety-bulletin</a>
<a class=dropdown-item href=/security/vulnerability-reporting/>vulnerability-reporting</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/basic-feature/protocol/tls/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><div id=docsearch></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div id=docsearch></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/basic-feature/protocol/tls/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertz-li><input type=checkbox id=m-docshertz-check checked>
<label for=m-docshertz-check><a href=/docs/hertz/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertz><span>Hertz</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzoverview-li><input type=checkbox id=m-docshertzoverview-check checked>
<label for=m-docshertzoverview-check><a href=/docs/hertz/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzoverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzgetting-started-li><input type=checkbox id=m-docshertzgetting-started-check checked>
<label for=m-docshertzgetting-started-check><a href=/docs/hertz/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzgetting-started><span>Getting Started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorials-li><input type=checkbox id=m-docshertztutorials-check checked>
<label for=m-docshertztutorials-check><a href=/docs/hertz/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsexample-li><input type=checkbox id=m-docshertztutorialsexample-check>
<label for=m-docshertztutorialsexample-check><a href=/docs/hertz/tutorials/example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsexample><span>Example code</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialsbasic-feature-li><input type=checkbox id=m-docshertztutorialsbasic-feature-check checked>
<label for=m-docshertztutorialsbasic-feature-check><a href=/docs/hertz/tutorials/basic-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-feature><span>Basic Feature</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurenetwork-lib-li><input type=checkbox id=m-docshertztutorialsbasic-featurenetwork-lib-check>
<label for=m-docshertztutorialsbasic-featurenetwork-lib-check><a href=/docs/hertz/tutorials/basic-feature/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurenetwork-lib><span>Network Lib</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureroute-li><input type=checkbox id=m-docshertztutorialsbasic-featureroute-check>
<label for=m-docshertztutorialsbasic-featureroute-check><a href=/docs/hertz/tutorials/basic-feature/route/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureroute><span>Route</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-featuremiddleware-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddleware-check>
<label for=m-docshertztutorialsbasic-featuremiddleware-check><a href=/docs/hertz/tutorials/basic-feature/middleware/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featuremiddleware><span>Middleware Overview</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecors-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecors-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecors-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecors><span>CORS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerecovery-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerecovery-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerecovery-check><a href=/docs/hertz/tutorials/basic-feature/middleware/recovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerecovery><span>Recovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/basic-auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth><span>Basic Auth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarejwt-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarejwt-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarejwt-check><a href=/docs/hertz/tutorials/basic-feature/middleware/jwt/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarejwt><span>JWT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaregzip-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaregzip-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaregzip-check><a href=/docs/hertz/tutorials/basic-feature/middleware/gzip/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaregzip><span>Gzip Compress</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarei18n-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarei18n-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarei18n-check><a href=/docs/hertz/tutorials/basic-feature/middleware/i18n/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarei18n><span>Internationalization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresession-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresession-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresession-check><a href=/docs/hertz/tutorials/basic-feature/middleware/session/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresession><span>Session Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarepprof-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarepprof-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarepprof-check><a href=/docs/hertz/tutorials/basic-feature/middleware/pprof/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarepprof><span>Pprof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/keyauth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth><span>KeyAuth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareswagger-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareswagger-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareswagger-check><a href=/docs/hertz/tutorials/basic-feature/middleware/swagger/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareswagger><span>Swagger</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerequestid-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerequestid-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerequestid-check><a href=/docs/hertz/tutorials/basic-feature/middleware/requestid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerequestid><span>Request ID</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check><a href=/docs/hertz/tutorials/basic-feature/middleware/access-log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log><span>access log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresecure-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresecure-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresecure-check><a href=/docs/hertz/tutorials/basic-feature/middleware/secure/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresecure><span>Secure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresentry-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresentry-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresentry-check><a href=/docs/hertz/tutorials/basic-feature/middleware/sentry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresentry><span>Sentry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecsrf-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecsrf-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecsrf-check><a href=/docs/hertz/tutorials/basic-feature/middleware/csrf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecsrf><span>CSRF</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecasbin-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecasbin-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecasbin-check><a href=/docs/hertz/tutorials/basic-feature/middleware/casbin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecasbin><span>Casbin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareetag-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareetag-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareetag-check><a href=/docs/hertz/tutorials/basic-feature/middleware/etag/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareetag><span>ETag</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecache-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecache-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecache-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cache/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecache><span>Cache</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurebinding-and-validate-li><input type=checkbox id=m-docshertztutorialsbasic-featurebinding-and-validate-check>
<label for=m-docshertztutorialsbasic-featurebinding-and-validate-check><a href=/docs/hertz/tutorials/basic-feature/binding-and-validate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurebinding-and-validate><span>Binding and validate</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialsbasic-featureprotocol-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocol-check checked>
<label for=m-docshertztutorialsbasic-featureprotocol-check><a href=/docs/hertz/tutorials/basic-feature/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featureprotocol><span>Protocol</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolhttp2-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolhttp2-check>
<label for=m-docshertztutorialsbasic-featureprotocolhttp2-check><a href=/docs/hertz/tutorials/basic-feature/protocol/http2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolhttp2><span>HTTP2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolwebsocket-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolwebsocket-check>
<label for=m-docshertztutorialsbasic-featureprotocolwebsocket-check><a href=/docs/hertz/tutorials/basic-feature/protocol/websocket/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolwebsocket><span>Websocket</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docshertztutorialsbasic-featureprotocoltls-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocoltls-check checked>
<label for=m-docshertztutorialsbasic-featureprotocoltls-check><a href=/docs/hertz/tutorials/basic-feature/protocol/tls/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocoltls><span class=td-sidebar-nav-active-item>TLS</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurestream-li><input type=checkbox id=m-docshertztutorialsbasic-featurestream-check>
<label for=m-docshertztutorialsbasic-featurestream-check><a href=/docs/hertz/tutorials/basic-feature/stream/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurestream><span>Stream</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureerror-handle-li><input type=checkbox id=m-docshertztutorialsbasic-featureerror-handle-check>
<label for=m-docshertztutorialsbasic-featureerror-handle-check><a href=/docs/hertz/tutorials/basic-feature/error-handle/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureerror-handle><span>Error Handle</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuregraceful-shutdown-li><input type=checkbox id=m-docshertztutorialsbasic-featuregraceful-shutdown-check>
<label for=m-docshertztutorialsbasic-featuregraceful-shutdown-check><a href=/docs/hertz/tutorials/basic-feature/graceful-shutdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuregraceful-shutdown><span>Graceful Shutdown</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureproxy-li><input type=checkbox id=m-docshertztutorialsbasic-featureproxy-check>
<label for=m-docshertztutorialsbasic-featureproxy-check><a href=/docs/hertz/tutorials/basic-feature/proxy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureproxy><span>Forward Proxy and Reverse Proxy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureretry-li><input type=checkbox id=m-docshertztutorialsbasic-featureretry-check>
<label for=m-docshertztutorialsbasic-featureretry-check><a href=/docs/hertz/tutorials/basic-feature/retry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureretry><span>Retry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurehooks-li><input type=checkbox id=m-docshertztutorialsbasic-featurehooks-check>
<label for=m-docshertztutorialsbasic-featurehooks-check><a href=/docs/hertz/tutorials/basic-feature/hooks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurehooks><span>Hooks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureunit-test-li><input type=checkbox id=m-docshertztutorialsbasic-featureunit-test-check>
<label for=m-docshertztutorialsbasic-featureunit-test-check><a href=/docs/hertz/tutorials/basic-feature/unit-test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureunit-test><span>Unit Test</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureadaptor-li><input type=checkbox id=m-docshertztutorialsbasic-featureadaptor-check>
<label for=m-docshertztutorialsbasic-featureadaptor-check><a href=/docs/hertz/tutorials/basic-feature/adaptor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureadaptor><span>Adaptor</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsobservability-li><input type=checkbox id=m-docshertztutorialsobservability-check>
<label for=m-docshertztutorialsobservability-check><a href=/docs/hertz/tutorials/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsobservability><span>Observability</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitylog-li><input type=checkbox id=m-docshertztutorialsobservabilitylog-check>
<label for=m-docshertztutorialsobservabilitylog-check><a href=/docs/hertz/tutorials/observability/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitylog><span>Log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitytracing-li><input type=checkbox id=m-docshertztutorialsobservabilitytracing-check>
<label for=m-docshertztutorialsobservabilitytracing-check><a href=/docs/hertz/tutorials/observability/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitytracing><span>Tracing</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitymonitoring-li><input type=checkbox id=m-docshertztutorialsobservabilitymonitoring-check>
<label for=m-docshertztutorialsobservabilitymonitoring-check><a href=/docs/hertz/tutorials/observability/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitymonitoring><span>Monitoring</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilityopen-telemetry-li><input type=checkbox id=m-docshertztutorialsobservabilityopen-telemetry-check>
<label for=m-docshertztutorialsobservabilityopen-telemetry-check><a href=/docs/hertz/tutorials/observability/open-telemetry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilityopen-telemetry><span>OpenTelemetry</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsservice-governance-li><input type=checkbox id=m-docshertztutorialsservice-governance-check>
<label for=m-docshertztutorialsservice-governance-check><a href=/docs/hertz/tutorials/service-governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsservice-governance><span>Service Governance</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governanceservice_discovery-li><input type=checkbox id=m-docshertztutorialsservice-governanceservice_discovery-check>
<label for=m-docshertztutorialsservice-governanceservice_discovery-check><a href=/docs/hertz/tutorials/service-governance/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governanceservice_discovery><span>Service Registration and Discovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governancesentinel-li><input type=checkbox id=m-docshertztutorialsservice-governancesentinel-check>
<label for=m-docshertztutorialsservice-governancesentinel-check><a href=/docs/hertz/tutorials/service-governance/sentinel/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governancesentinel><span>Sentinel</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-exten-li><input type=checkbox id=m-docshertztutorialsframework-exten-check>
<label for=m-docshertztutorialsframework-exten-check><a href=/docs/hertz/tutorials/framework-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-exten><span>Framework Extension</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenmonitor-li><input type=checkbox id=m-docshertztutorialsframework-extenmonitor-check>
<label for=m-docshertztutorialsframework-extenmonitor-check><a href=/docs/hertz/tutorials/framework-exten/monitor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenmonitor><span>Monitoring Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenlog-li><input type=checkbox id=m-docshertztutorialsframework-extenlog-check>
<label for=m-docshertztutorialsframework-extenlog-check><a href=/docs/hertz/tutorials/framework-exten/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenlog><span>Logger Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenservice_discovery-li><input type=checkbox id=m-docshertztutorialsframework-extenservice_discovery-check>
<label for=m-docshertztutorialsframework-extenservice_discovery-check><a href=/docs/hertz/tutorials/framework-exten/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenservice_discovery><span>Service Registration and Service Discovery Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-extenadvanced-exten-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-exten-check>
<label for=m-docshertztutorialsframework-extenadvanced-exten-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-extenadvanced-exten><span>Advanced Extensions</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check>
<label for=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib><span>Network Library Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extenprotocol-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extenprotocol-check>
<label for=m-docshertztutorialsframework-extenadvanced-extenprotocol-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extenprotocol><span>Protocol extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenresponse_writer-li><input type=checkbox id=m-docshertztutorialsframework-extenresponse_writer-check>
<label for=m-docshertztutorialsframework-extenresponse_writer-check><a href=/docs/hertz/tutorials/framework-exten/response_writer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenresponse_writer><span>Response Writer Extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialstoolkit-li><input type=checkbox id=m-docshertztutorialstoolkit-check>
<label for=m-docshertztutorialstoolkit-check><a href=/docs/hertz/tutorials/toolkit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkit><span>Code Generation</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialstoolkitusage-li><input type=checkbox id=m-docshertztutorialstoolkitusage-check>
<label for=m-docshertztutorialstoolkitusage-check><a href=/docs/hertz/tutorials/toolkit/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkitusage><span>hz usages</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageinstall-li><input type=checkbox id=m-docshertztutorialstoolkitusageinstall-check>
<label for=m-docshertztutorialstoolkitusageinstall-check><a href=/docs/hertz/tutorials/toolkit/usage/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageinstall><span>hz install</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-check>
<label for=m-docshertztutorialstoolkitusageusage-check><a href=/docs/hertz/tutorials/toolkit/usage/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage><span>hz basic usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-thrift-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-thrift-check>
<label for=m-docshertztutorialstoolkitusageusage-thrift-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-thrift><span>hz usage(thrift)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-protobuf-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-protobuf-check>
<label for=m-docshertztutorialstoolkitusageusage-protobuf-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-protobuf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-protobuf><span>hz usage(protobuf)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagelayout-li><input type=checkbox id=m-docshertztutorialstoolkitusagelayout-check>
<label for=m-docshertztutorialstoolkitusagelayout-check><a href=/docs/hertz/tutorials/toolkit/usage/layout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagelayout><span>hz layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageannotation-li><input type=checkbox id=m-docshertztutorialstoolkitusageannotation-check>
<label for=m-docshertztutorialstoolkitusageannotation-check><a href=/docs/hertz/tutorials/toolkit/usage/annotation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageannotation><span>hz annotation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecommand-li><input type=checkbox id=m-docshertztutorialstoolkitusagecommand-check>
<label for=m-docshertztutorialstoolkitusagecommand-check><a href=/docs/hertz/tutorials/toolkit/usage/command/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecommand><span>hz commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecautions-li><input type=checkbox id=m-docshertztutorialstoolkitusagecautions-check>
<label for=m-docshertztutorialstoolkitusagecautions-check><a href=/docs/hertz/tutorials/toolkit/usage/cautions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecautions><span>note</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkittemplate-li><input type=checkbox id=m-docshertztutorialstoolkittemplate-check>
<label for=m-docshertztutorialstoolkittemplate-check><a href=/docs/hertz/tutorials/toolkit/template/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkittemplate><span>hz custom template use</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitplugin-li><input type=checkbox id=m-docshertztutorialstoolkitplugin-check>
<label for=m-docshertztutorialstoolkitplugin-check><a href=/docs/hertz/tutorials/toolkit/plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitplugin><span>hz access plugin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitclient-li><input type=checkbox id=m-docshertztutorialstoolkitclient-check>
<label for=m-docshertztutorialstoolkitclient-check><a href=/docs/hertz/tutorials/toolkit/client/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitclient><span>hz client code generation</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzfaq-li><input type=checkbox id=m-docshertzfaq-check checked>
<label for=m-docshertzfaq-check><a href=/docs/hertz/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzfaq><span>FAQ</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertzreference-li><input type=checkbox id=m-docshertzreference-check checked>
<label for=m-docshertzreference-check><a href=/docs/hertz/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzreference><span>Reference</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceconfig-li><input type=checkbox id=m-docshertzreferenceconfig-check>
<label for=m-docshertzreferenceconfig-check><a href=/docs/hertz/reference/config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceconfig><span>Configuration instruction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceversion-li><input type=checkbox id=m-docshertzreferenceversion-check>
<label for=m-docshertzreferenceversion-check><a href=/docs/hertz/reference/version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceversion><span>Version Descriptions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferencejson-li><input type=checkbox id=m-docshertzreferencejson-check>
<label for=m-docshertzreferencejson-check><a href=/docs/hertz/reference/json/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferencejson><span>JSON Marshal Library</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en/docs/hertz/tutorials/basic-feature/protocol/tls.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en/docs/hertz/tutorials/basic-feature/protocol/tls.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=TLS" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/kitex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#server>Server</a><ul><li><a href=#parameter>Parameter</a></li><li><a href=#sample-code>Sample Code</a></li></ul></li><li><a href=#client>Client</a><ul><li><a href=#parameter-1>Parameter</a></li><li><a href=#sample-code-1>Sample Code</a></li></ul></li><li><a href=#autotls-middleware>Autotls Middleware</a><ul><li><a href=#installation>Installation</a></li><li><a href=#configuration>Configuration</a></li></ul></li><li><a href=#note>Note</a><ul><li><a href=#client-raise-error-not-support-tls>Client raise error not support tls</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/>Hertz</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/>Tutorials</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/>Basic Feature</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/protocol/>Protocol</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/protocol/tls/>TLS</a></li></ol></nav><div class=td-content><h1>TLS</h1><header class=article-meta></header><p>Hertz supports TLS secure transmission, helping users achieve data confidentiality and integrity.</p><blockquote><p>If you need TLS, Please use go net lib instead. netpoll is now working on it but not ready yet.</p></blockquote><p>In <code>tls.Config</code>, the parameters that the server and client both can use are as follows:</p><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:left>Introduce</th></tr></thead><tbody><tr><td style=text-align:center>Certificates</td><td style=text-align:left>Used to add certificates, multiple certificates can be configured.<br>Both ends automatically select the first certificate for verification.</td></tr><tr><td style=text-align:center>VerifyPeerCertificate</td><td style=text-align:left>Used to verify the peer certificate.<br>Called after certificate verification on either side.</td></tr><tr><td style=text-align:center>VerifyConnection</td><td style=text-align:left>After both certificates are verified, TLS connection verification is performed.</td></tr><tr><td style=text-align:center>NextProtos</td><td style=text-align:left>Used to set supported application layer protocols.</td></tr><tr><td style=text-align:center>CipherSuites</td><td style=text-align:left>Used to negotiate encryption policies, supports TLS 1.0-1.2.</td></tr><tr><td style=text-align:center>MaxVersion</td><td style=text-align:left>Used to set the maximum version supported by TLS, currently 1.3.</td></tr></tbody></table><h2 id=server>Server</h2><p>Hertz provides the <code>WithTLS</code> Option in the <code>server</code> package for configuring TLS services. But currently Hertz only supports TLS in the standard network library, <a href=https://github.com/cloudwego/netpoll>Netpoll</a> network library support is still on the way.
The <code>Transporter</code> of <code>WithTLS</code> is set by default to the <code>Transporter</code> of the standard library.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#8f5902;font-style:italic>// WithTLS sets TLS config to start a tls server.
</span><span style=color:#8f5902;font-style:italic>// NOTE: If a tls server is started, it won&#39;t accept non-tls request.
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>WithTLS</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cfg</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Option</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>F</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>o</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Options</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>route</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SetTransporter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>standard</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewTransporter</span><span style=color:#000;font-weight:700>)</span>
		<span style=color:#000>o</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TLS</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>cfg</span>
	<span style=color:#000;font-weight:700>}}</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h3 id=parameter>Parameter</h3><p>In <code>tls.Config</code>, in addition to the above basic parameters, the parameters that can be configured by the server are as follows:</p><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:left>Introduce</th></tr></thead><tbody><tr><td style=text-align:center>GetCertificate</td><td style=text-align:left>Returns a certificate based on client SNI information or when the certificate set is empty.</td></tr><tr><td style=text-align:center>GetClientCertificate</td><td style=text-align:left>It is used to return the client certificate when the server requires to verify the client certificate.</td></tr><tr><td style=text-align:center>GetConfigForClient</td><td style=text-align:left>When the server receives ClientHello from the client, it returns the configuration information.<br>If non-empty configuration information is returned, it will be used for this TLS connection.</td></tr><tr><td style=text-align:center>ClientAuth</td><td style=text-align:left>Used for client authentication policy settings, defaults to <code>NoClientCert</code>.</td></tr><tr><td style=text-align:center>ClientCAs</td><td style=text-align:left>When <code>ClientAuth</code> is enabled, used to verify the authenticity of the client certificate.</td></tr></tbody></table><p>The main process of server-side TLS:</p><ol><li>Load the root certificate to verify the authenticity of the client.</li><li>Load the server certificate to send to the client to verify the authenticity of the server.</li><li>Configure <code>tls.Config</code>.</li><li>Use <code>WithTLS</code> to configure server-side TLS. By default, the standard library&rsquo;s Transporter is used.</li></ol><h3 id=sample-code>Sample Code</h3><p><code>ca.key</code>, <code>ca.crt</code>, <code>server.key</code> and <code>server.crt</code> in this example are all generated by openssl.
First generate the CA&rsquo;s private key and certificate, the command is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>openssl ecparam -genkey -name prime256v1 -out ca.key
openssl req -new -key ca.key -out ca.req
<span style=color:#8f5902;font-style:italic># country=cn, common name=ca.example.com</span>
openssl x509 -req -in ca.req -signkey ca.key -out ca.crt -days <span style=color:#0000cf;font-weight:700>365</span>
</code></pre></div><p>Generate the private key and certificate of the server through CA signature, the command is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>openssl ecparam -genkey -name prime256v1 -out server.key
openssl req -new -key server.key -out server.req
<span style=color:#8f5902;font-style:italic># country=cn, common name=server.example.com</span>
openssl x509 -req -in server.req -CA ca.crt -CAkey ca.key -out server.crt -CAcreateserial -days <span style=color:#0000cf;font-weight:700>365</span>
</code></pre></div><p>Server-side sample code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#8f5902;font-style:italic>// ...
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#8f5902;font-style:italic>// load server certificate
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>cert</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LoadX509KeyPair</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;./tls/server.crt&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;./tls/server.key&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#8f5902;font-style:italic>// load root certificate
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>certBytes</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>ioutil</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ReadFile</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;./tls/ca.crt&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#000>caCertPool</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>x509</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewCertPool</span><span style=color:#000;font-weight:700>()</span>
	<span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>caCertPool</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AppendCertsFromPEM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>certBytes</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#204a87>panic</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Failed to parse root certificate.&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#8f5902;font-style:italic>// set server tls.Config
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>cfg</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>{</span>
		<span style=color:#8f5902;font-style:italic>// add certificate
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>Certificates</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Certificate</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>cert</span><span style=color:#000;font-weight:700>},</span>
		<span style=color:#000>MaxVersion</span><span style=color:#000;font-weight:700>:</span>   <span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>VersionTLS13</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#8f5902;font-style:italic>// enable client authentication
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>ClientAuth</span><span style=color:#000;font-weight:700>:</span>   <span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequireAndVerifyClientCert</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000>ClientCAs</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#000>caCertPool</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#8f5902;font-style:italic>// cipher suites supported
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>CipherSuites</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>uint16</span><span style=color:#000;font-weight:700>{</span>
			<span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305</span><span style=color:#000;font-weight:700>,</span>
			<span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span><span style=color:#000;font-weight:700>,</span>
			<span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000;font-weight:700>},</span>
		<span style=color:#8f5902;font-style:italic>// set application protocol http2
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>NextProtos</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>http2</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NextProtoTLS</span><span style=color:#000;font-weight:700>},</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#8f5902;font-style:italic>// set TLS server
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#8f5902;font-style:italic>// default is standard.NewTransporter
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Default</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithTLS</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cfg</span><span style=color:#000;font-weight:700>),</span> <span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithHostPorts</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;:8443&#34;</span><span style=color:#000;font-weight:700>))</span>

	<span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/ping&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>consts</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;TLS test\n&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#000;font-weight:700>})</span>

	<span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Spin</span><span style=color:#000;font-weight:700>()</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>For a complete usage example, see <a href=https://github.com/cloudwego/hertz-examples/tree/main/protocol/tls>example</a> .</p><h2 id=client>Client</h2><h3 id=parameter-1>Parameter</h3><p>In <code>tls.Config</code>, in addition to the above basic parameters, the parameters that can be configured by the client are as follows:</p><table><thead><tr><th style=text-align:center>Parameter</th><th style=text-align:left>Introduce</th></tr></thead><tbody><tr><td style=text-align:center>ServerName</td><td style=text-align:left>Validate the hostname against the returned certificate information.</td></tr><tr><td style=text-align:center>InsecureSkipVerify</td><td style=text-align:left>It is used for whether the client enables server-side certificate verification.</td></tr><tr><td style=text-align:center>RootCAs</td><td style=text-align:left>The certificate used by the client to authenticate the server.</td></tr></tbody></table><p>The main process of client-side TLS:</p><ol><li>Load the root certificate to verify the authenticity of the server.</li><li>Load the client certificate for sending to the server to verify the authenticity of the client.</li><li>Configure <code>tls.Config</code>.</li><li>Use <code>WithTLS</code> to configure client-side TLS, which uses the standard library&rsquo;s Dialer by default.</li></ol><h3 id=sample-code-1>Sample Code</h3><p>Generate the client&rsquo;s private key and certificate through CA signature, the command is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>openssl ecparam -genkey -name prime256v1 -out client.key
openssl req -new -key client.key -out client.req
<span style=color:#8f5902;font-style:italic># country=cn, common name=client.example.com</span>
openssl x509 -req -in client.req -CA ca.crt -CAkey ca.key -out client.crt -CAcreateserial -days <span style=color:#0000cf;font-weight:700>365</span>
</code></pre></div><p>Client sample code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#8f5902;font-style:italic>// ...
</span><span style=color:#8f5902;font-style:italic></span>
<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#8f5902;font-style:italic>// load root certificate to verify the client validity
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>certBytes</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>ioutil</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ReadFile</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;./tls/ca.crt&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#000>caCertPool</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>x509</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewCertPool</span><span style=color:#000;font-weight:700>()</span>
	<span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>caCertPool</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AppendCertsFromPEM</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>certBytes</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>!</span><span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#204a87>panic</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Failed to parse root certificate.&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#000;font-weight:700>}</span>
    <span style=color:#8f5902;font-style:italic>// load client certificate to send to server
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>cert</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LoadX509KeyPair</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;./tls/client.crt&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;./tls/client.key&#34;</span><span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
	<span style=color:#000;font-weight:700>}</span>
    <span style=color:#8f5902;font-style:italic>// set TLS configuration
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>cfg</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>MaxVersion</span><span style=color:#000;font-weight:700>:</span>   <span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>VersionTLS13</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000>Certificates</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Certificate</span><span style=color:#000;font-weight:700>{</span><span style=color:#000>cert</span><span style=color:#000;font-weight:700>},</span>
		<span style=color:#8f5902;font-style:italic>// verify the server certificate
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>RootCAs</span><span style=color:#000;font-weight:700>:</span>      <span style=color:#000>caCertPool</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#8f5902;font-style:italic>// ignored the server certificate
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>InsecureSkipVerify</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
	<span style=color:#000;font-weight:700>}</span>

	<span style=color:#000>c</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewClient</span><span style=color:#000;font-weight:700>(</span>
		<span style=color:#8f5902;font-style:italic>// default dialer is standard
</span><span style=color:#8f5902;font-style:italic></span>		<span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithTLSConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cfg</span><span style=color:#000;font-weight:700>),</span>
		<span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithDialer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>standard</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewDialer</span><span style=color:#000;font-weight:700>()),</span>
	<span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Println</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
	<span style=color:#000;font-weight:700>}</span>
    <span style=color:#8f5902;font-style:italic>// ...
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><blockquote><p>Note：Currently, Hertz TLS server is not supported Netpoll network library temporarily.<br><code>c, err := client.NewClient(client.WithTLSConfig(cfg), client.WithDialer(netpoll.NewDialer())</code> support is still on the way.</p></blockquote><p>For a complete usage example, see <a href=https://github.com/cloudwego/hertz-examples/tree/main/protocol/tls>example</a> .</p><h2 id=autotls-middleware>Autotls Middleware</h2><p>Hertz provides <a href=https://github.com/hertz-contrib/autotls>autotls</a> extension adaptation <a href=https://letsencrypt.org/>Let&rsquo;s Encrypt</a>, which is convenient for users to automatically configure TLS services.</p><h3 id=installation>Installation</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>go get github.com/hertz-contrib/autotls
</code></pre></div><h3 id=configuration>Configuration</h3><h4 id=newtlsconfig>NewTlsConfig</h4><p>The <code>autotls</code> extension provides <code>NewTlsConfig</code> to help users support LetsEncrypt HTTPS servers with one line of code.</p><p>The NewTlsConfig function signature is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewTlsConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>domains</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span>
</code></pre></div><p>sample code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
	<span style=color:#4e9a06>&#34;context&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app/server&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/common/hlog&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/hertz-contrib/autotls&#34;</span>
<span style=color:#000;font-weight:700>)</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Default</span><span style=color:#000;font-weight:700>(</span>
		<span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithTLS</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewTlsConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;example1.com&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;example2.com&#34;</span><span style=color:#000;font-weight:700>)),</span>
		<span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithHostPorts</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;:https&#34;</span><span style=color:#000;font-weight:700>),</span>
	<span style=color:#000;font-weight:700>)</span>

	<span style=color:#8f5902;font-style:italic>// Ping handler
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/ping&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>c</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>ctx</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
			<span style=color:#4e9a06>&#34;ping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pong&#34;</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000;font-weight:700>})</span>
	<span style=color:#000;font-weight:700>})</span>

	<span style=color:#000>hlog</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Run</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>h</span><span style=color:#000;font-weight:700>))</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h4 id=runwithcontext>RunWithContext</h4><p>The <code>autotls</code> extension provides <code>RunWithContext</code> to help users support LetsEncrypt HTTPS servers with a single line of code while enabling graceful shutdown of the service.</p><p>The RunWithContext function signature is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>RunWithContext</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Hertz</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>error</span>
</code></pre></div><p>sample code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
	<span style=color:#4e9a06>&#34;context&#34;</span>
	<span style=color:#4e9a06>&#34;os/signal&#34;</span>
	<span style=color:#4e9a06>&#34;syscall&#34;</span>

	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app/server&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/common/hlog&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/hertz-contrib/autotls&#34;</span>
<span style=color:#000;font-weight:700>)</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#8f5902;font-style:italic>// Create context that listens for the interrupt signal from the OS.
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>stop</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>signal</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NotifyContext</span><span style=color:#000;font-weight:700>(</span>
		<span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Background</span><span style=color:#000;font-weight:700>(),</span>
		<span style=color:#000>syscall</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SIGINT</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000>syscall</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SIGTERM</span><span style=color:#000;font-weight:700>,</span>
	<span style=color:#000;font-weight:700>)</span>
	<span style=color:#204a87;font-weight:700>defer</span> <span style=color:#000>stop</span><span style=color:#000;font-weight:700>()</span>

	<span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Default</span><span style=color:#000;font-weight:700>(</span>
		<span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithTLS</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewTlsConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;example1.com&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;example2.com&#34;</span><span style=color:#000;font-weight:700>)),</span>
		<span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithHostPorts</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;:https&#34;</span><span style=color:#000;font-weight:700>),</span>
	<span style=color:#000;font-weight:700>)</span>

	<span style=color:#8f5902;font-style:italic>// Ping handler
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/ping&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>c</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>ctx</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
			<span style=color:#4e9a06>&#34;ping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pong&#34;</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000;font-weight:700>})</span>
	<span style=color:#000;font-weight:700>})</span>

	<span style=color:#000>hlog</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RunWithContext</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>h</span><span style=color:#000;font-weight:700>))</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h4 id=newserverwithmanagerandtlsconfig>NewServerWithManagerAndTlsConfig</h4><p>The <code>autotls</code> extension provides <code>NewServerWithManagerAndTlsConfig</code> to help users automate certificate management and TLS configuration.</p><p>The NewServerWithManagerAndTlsConfig function signature is as follows:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>NewServerWithManagerAndTlsConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>m</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>autocert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Manager</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>tlsc</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>opts</span> <span style=color:#ce5c00;font-weight:700>...</span><span style=color:#000>config</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Option</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Hertz</span>
</code></pre></div><p>sample code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
	<span style=color:#4e9a06>&#34;context&#34;</span>

	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/common/hlog&#34;</span>
	<span style=color:#4e9a06>&#34;github.com/hertz-contrib/autotls&#34;</span>
	<span style=color:#4e9a06>&#34;golang.org/x/crypto/acme/autocert&#34;</span>
<span style=color:#000;font-weight:700>)</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>m</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>autocert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Manager</span><span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>Prompt</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#000>autocert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>AcceptTOS</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000>HostPolicy</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>autocert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HostWhitelist</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;example1.com&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;example2.com&#34;</span><span style=color:#000;font-weight:700>),</span>
		<span style=color:#000>Cache</span><span style=color:#000;font-weight:700>:</span>      <span style=color:#000>autocert</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>DirCache</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/var/www/.cache&#34;</span><span style=color:#000;font-weight:700>),</span>
	<span style=color:#000;font-weight:700>}</span>

	<span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewServerWithManagerAndTlsConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>m</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>)</span>

	<span style=color:#8f5902;font-style:italic>// Ping handler
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/ping&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>c</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>ctx</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
			<span style=color:#4e9a06>&#34;ping&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pong&#34;</span><span style=color:#000;font-weight:700>,</span>
		<span style=color:#000;font-weight:700>})</span>
	<span style=color:#000;font-weight:700>})</span>

	<span style=color:#000>hlog</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>autotls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Run</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>h</span><span style=color:#000;font-weight:700>))</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>For a complete usage example, see <a href=https://github.com/hertz-contrib/autotls/tree/main/examples>example</a> .</p><h2 id=note>Note</h2><h3 id=client-raise-error-not-support-tls>Client raise error not support tls</h3><p>Hertz uses <code>netpoll</code> as the network library by default and currently <code>netpoll</code> does not support TLS. To use TLS you need to switch to the standard network library with the following code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app/client&#34;</span>
    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/network/standard&#34;</span>
    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/protocol&#34;</span>
<span style=color:#000;font-weight:700>)</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>clientCfg</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>tls</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Config</span><span style=color:#000;font-weight:700>{</span>
		<span style=color:#000>InsecureSkipVerify</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
	<span style=color:#000;font-weight:700>}</span>
	<span style=color:#000>c</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewClient</span><span style=color:#000;font-weight:700>(</span>
		<span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithTLSConfig</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>clientCfg</span><span style=color:#000;font-weight:700>),</span> 
		<span style=color:#000>client</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithDialer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>standard</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NewDialer</span><span style=color:#000;font-weight:700>()),</span> 
	<span style=color:#000;font-weight:700>)</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
April 12, 2023
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/4db89b4a8fbcebed77dd2b2b37bad3047f6aece2>feat: use docsearch (#601) (4db89b4)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/cloudwego/shared_invite/zt-tmcbzewn-UjXMF3ZQsPhl7W3tEDZboA aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.staticfile.org/bootstrap/4.6.0/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.99d7cb67f0709dcc1d3641652a2142e6cb2272c12553893cdfffb8a69c5fda51.js integrity="sha256-mdfLZ/BwncwdNkFlKiFC5ssicsElU4k83/+4ppxf2lE=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/docsearch.js></script><script type=text/javascript>let siteLang=window.location.pathname.startsWith('/zh/')?'zh':'en';docsearch({appId:'V7I042F992',apiKey:'8380a7ac88106841cb43fb000fa2edb4',indexName:'cloudwego',container:'#docsearch',searchParameters:{hitsPerPage:5,facetFilters:[`lang:${siteLang}`]}})</script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>
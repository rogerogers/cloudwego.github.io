<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>JWT | CloudWeGo</title><meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:title" content="JWT"><meta property="og:description" content="JSON Web Token (JWT) is a lightweight authentication specification that allows us to use JWT to deliver secure and reliable information between users and servers. Essentially a token, it is a compact security method for passing between two sides of network communication. Hertz also provides an implementation of JWT, it uses gin implementation for reference.
Install go get github.com/hertz-contrib/jwt Example package main import ( &#34;context&#34; &#34;fmt&#34; &#34;log&#34; &#34;time&#34; &#34;github.com/cloudwego/hertz/pkg/app&#34; &#34;github.com/cloudwego/hertz/pkg/app/server&#34; &#34;github."><meta property="og:type" content="article"><meta property="og:url" content="https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/middleware/jwt/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2022-06-09T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-11T13:43:08+08:00"><meta property="og:site_name" content="CloudWeGo"><meta itemprop=name content="JWT"><meta itemprop=description content="JSON Web Token (JWT) is a lightweight authentication specification that allows us to use JWT to deliver secure and reliable information between users and servers. Essentially a token, it is a compact security method for passing between two sides of network communication. Hertz also provides an implementation of JWT, it uses gin implementation for reference.
Install go get github.com/hertz-contrib/jwt Example package main import ( &#34;context&#34; &#34;fmt&#34; &#34;log&#34; &#34;time&#34; &#34;github.com/cloudwego/hertz/pkg/app&#34; &#34;github.com/cloudwego/hertz/pkg/app/server&#34; &#34;github."><meta itemprop=datePublished content="2022-06-09T00:00:00+00:00"><meta itemprop=dateModified content="2023-04-11T13:43:08+08:00"><meta itemprop=wordCount content="2174"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="JWT"><meta name=twitter:description content="JSON Web Token (JWT) is a lightweight authentication specification that allows us to use JWT to deliver secure and reliable information between users and servers. Essentially a token, it is a compact security method for passing between two sides of network communication. Hertz also provides an implementation of JWT, it uses gin implementation for reference.
Install go get github.com/hertz-contrib/jwt Example package main import ( &#34;context&#34; &#34;fmt&#34; &#34;log&#34; &#34;time&#34; &#34;github.com/cloudwego/hertz/pkg/app&#34; &#34;github.com/cloudwego/hertz/pkg/app/server&#34; &#34;github."><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QYWRQRLPRM')</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><link rel=preload href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css as=style><link href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css rel=stylesheet integrity><script src=https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QYWRQRLPRM','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/docs/volo/>Volo</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/docs/cwgo/>Cwgo</a>
<a class=dropdown-item href=/docs/motore/>Motore</a>
<a class=dropdown-item href=/docs/pilota/>Pilota</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cooperation/><span>Cooperation</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Security</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/security/safety-bulletin/>safety-bulletin</a>
<a class=dropdown-item href=/security/vulnerability-reporting/>vulnerability-reporting</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/basic-feature/middleware/jwt/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.ffbc4e552f7e4427acd2c28307a2610a.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.ffbc4e552f7e4427acd2c28307a2610a.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/basic-feature/middleware/jwt/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertz-li><input type=checkbox id=m-docshertz-check checked>
<label for=m-docshertz-check><a href=/docs/hertz/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertz><span>Hertz</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzoverview-li><input type=checkbox id=m-docshertzoverview-check checked>
<label for=m-docshertzoverview-check><a href=/docs/hertz/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzoverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzgetting-started-li><input type=checkbox id=m-docshertzgetting-started-check checked>
<label for=m-docshertzgetting-started-check><a href=/docs/hertz/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzgetting-started><span>Getting Started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorials-li><input type=checkbox id=m-docshertztutorials-check checked>
<label for=m-docshertztutorials-check><a href=/docs/hertz/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsexample-li><input type=checkbox id=m-docshertztutorialsexample-check>
<label for=m-docshertztutorialsexample-check><a href=/docs/hertz/tutorials/example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsexample><span>Example code</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialsbasic-feature-li><input type=checkbox id=m-docshertztutorialsbasic-feature-check checked>
<label for=m-docshertztutorialsbasic-feature-check><a href=/docs/hertz/tutorials/basic-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-feature><span>Basic Feature</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurenetwork-lib-li><input type=checkbox id=m-docshertztutorialsbasic-featurenetwork-lib-check>
<label for=m-docshertztutorialsbasic-featurenetwork-lib-check><a href=/docs/hertz/tutorials/basic-feature/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurenetwork-lib><span>Network Lib</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureroute-li><input type=checkbox id=m-docshertztutorialsbasic-featureroute-check>
<label for=m-docshertztutorialsbasic-featureroute-check><a href=/docs/hertz/tutorials/basic-feature/route/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureroute><span>Route</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialsbasic-featuremiddleware-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddleware-check checked>
<label for=m-docshertztutorialsbasic-featuremiddleware-check><a href=/docs/hertz/tutorials/basic-feature/middleware/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featuremiddleware><span>Middleware Overview</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecors-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecors-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecors-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecors><span>CORS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerecovery-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerecovery-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerecovery-check><a href=/docs/hertz/tutorials/basic-feature/middleware/recovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerecovery><span>Recovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/basic-auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth><span>Basic Auth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docshertztutorialsbasic-featuremiddlewarejwt-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarejwt-check checked>
<label for=m-docshertztutorialsbasic-featuremiddlewarejwt-check><a href=/docs/hertz/tutorials/basic-feature/middleware/jwt/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarejwt><span class=td-sidebar-nav-active-item>JWT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaregzip-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaregzip-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaregzip-check><a href=/docs/hertz/tutorials/basic-feature/middleware/gzip/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaregzip><span>Gzip Compress</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarei18n-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarei18n-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarei18n-check><a href=/docs/hertz/tutorials/basic-feature/middleware/i18n/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarei18n><span>Internationalization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresession-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresession-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresession-check><a href=/docs/hertz/tutorials/basic-feature/middleware/session/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresession><span>Session Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarepprof-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarepprof-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarepprof-check><a href=/docs/hertz/tutorials/basic-feature/middleware/pprof/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarepprof><span>Pprof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/keyauth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth><span>KeyAuth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareswagger-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareswagger-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareswagger-check><a href=/docs/hertz/tutorials/basic-feature/middleware/swagger/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareswagger><span>Swagger</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerequestid-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerequestid-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerequestid-check><a href=/docs/hertz/tutorials/basic-feature/middleware/requestid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerequestid><span>Request ID</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check><a href=/docs/hertz/tutorials/basic-feature/middleware/access-log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log><span>access log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresecure-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresecure-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresecure-check><a href=/docs/hertz/tutorials/basic-feature/middleware/secure/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresecure><span>Secure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresentry-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresentry-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresentry-check><a href=/docs/hertz/tutorials/basic-feature/middleware/sentry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresentry><span>Sentry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecsrf-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecsrf-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecsrf-check><a href=/docs/hertz/tutorials/basic-feature/middleware/csrf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecsrf><span>CSRF</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecasbin-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecasbin-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecasbin-check><a href=/docs/hertz/tutorials/basic-feature/middleware/casbin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecasbin><span>Casbin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareetag-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareetag-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareetag-check><a href=/docs/hertz/tutorials/basic-feature/middleware/etag/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareetag><span>ETag</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecache-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecache-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecache-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cache/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecache><span>Cache</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurebinding-and-validate-li><input type=checkbox id=m-docshertztutorialsbasic-featurebinding-and-validate-check>
<label for=m-docshertztutorialsbasic-featurebinding-and-validate-check><a href=/docs/hertz/tutorials/basic-feature/binding-and-validate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurebinding-and-validate><span>Binding and validate</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-featureprotocol-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocol-check>
<label for=m-docshertztutorialsbasic-featureprotocol-check><a href=/docs/hertz/tutorials/basic-feature/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featureprotocol><span>Protocol</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolhttp2-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolhttp2-check>
<label for=m-docshertztutorialsbasic-featureprotocolhttp2-check><a href=/docs/hertz/tutorials/basic-feature/protocol/http2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolhttp2><span>HTTP2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolwebsocket-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolwebsocket-check>
<label for=m-docshertztutorialsbasic-featureprotocolwebsocket-check><a href=/docs/hertz/tutorials/basic-feature/protocol/websocket/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolwebsocket><span>Websocket</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocoltls-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocoltls-check>
<label for=m-docshertztutorialsbasic-featureprotocoltls-check><a href=/docs/hertz/tutorials/basic-feature/protocol/tls/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocoltls><span>TLS</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurestream-li><input type=checkbox id=m-docshertztutorialsbasic-featurestream-check>
<label for=m-docshertztutorialsbasic-featurestream-check><a href=/docs/hertz/tutorials/basic-feature/stream/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurestream><span>Stream</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureerror-handle-li><input type=checkbox id=m-docshertztutorialsbasic-featureerror-handle-check>
<label for=m-docshertztutorialsbasic-featureerror-handle-check><a href=/docs/hertz/tutorials/basic-feature/error-handle/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureerror-handle><span>Error Handle</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuregraceful-shutdown-li><input type=checkbox id=m-docshertztutorialsbasic-featuregraceful-shutdown-check>
<label for=m-docshertztutorialsbasic-featuregraceful-shutdown-check><a href=/docs/hertz/tutorials/basic-feature/graceful-shutdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuregraceful-shutdown><span>Graceful Shutdown</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureproxy-li><input type=checkbox id=m-docshertztutorialsbasic-featureproxy-check>
<label for=m-docshertztutorialsbasic-featureproxy-check><a href=/docs/hertz/tutorials/basic-feature/proxy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureproxy><span>Forward Proxy and Reverse Proxy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureretry-li><input type=checkbox id=m-docshertztutorialsbasic-featureretry-check>
<label for=m-docshertztutorialsbasic-featureretry-check><a href=/docs/hertz/tutorials/basic-feature/retry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureretry><span>Retry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurehooks-li><input type=checkbox id=m-docshertztutorialsbasic-featurehooks-check>
<label for=m-docshertztutorialsbasic-featurehooks-check><a href=/docs/hertz/tutorials/basic-feature/hooks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurehooks><span>Hooks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureunit-test-li><input type=checkbox id=m-docshertztutorialsbasic-featureunit-test-check>
<label for=m-docshertztutorialsbasic-featureunit-test-check><a href=/docs/hertz/tutorials/basic-feature/unit-test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureunit-test><span>Unit Test</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureadaptor-li><input type=checkbox id=m-docshertztutorialsbasic-featureadaptor-check>
<label for=m-docshertztutorialsbasic-featureadaptor-check><a href=/docs/hertz/tutorials/basic-feature/adaptor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureadaptor><span>Adaptor</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsobservability-li><input type=checkbox id=m-docshertztutorialsobservability-check>
<label for=m-docshertztutorialsobservability-check><a href=/docs/hertz/tutorials/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsobservability><span>Observability</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitylog-li><input type=checkbox id=m-docshertztutorialsobservabilitylog-check>
<label for=m-docshertztutorialsobservabilitylog-check><a href=/docs/hertz/tutorials/observability/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitylog><span>Log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitytracing-li><input type=checkbox id=m-docshertztutorialsobservabilitytracing-check>
<label for=m-docshertztutorialsobservabilitytracing-check><a href=/docs/hertz/tutorials/observability/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitytracing><span>Tracing</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitymonitoring-li><input type=checkbox id=m-docshertztutorialsobservabilitymonitoring-check>
<label for=m-docshertztutorialsobservabilitymonitoring-check><a href=/docs/hertz/tutorials/observability/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitymonitoring><span>Monitoring</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilityopen-telemetry-li><input type=checkbox id=m-docshertztutorialsobservabilityopen-telemetry-check>
<label for=m-docshertztutorialsobservabilityopen-telemetry-check><a href=/docs/hertz/tutorials/observability/open-telemetry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilityopen-telemetry><span>OpenTelemetry</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsservice-governance-li><input type=checkbox id=m-docshertztutorialsservice-governance-check>
<label for=m-docshertztutorialsservice-governance-check><a href=/docs/hertz/tutorials/service-governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsservice-governance><span>Service Governance</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governanceservice_discovery-li><input type=checkbox id=m-docshertztutorialsservice-governanceservice_discovery-check>
<label for=m-docshertztutorialsservice-governanceservice_discovery-check><a href=/docs/hertz/tutorials/service-governance/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governanceservice_discovery><span>Service Registration and Discovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governancesentinel-li><input type=checkbox id=m-docshertztutorialsservice-governancesentinel-check>
<label for=m-docshertztutorialsservice-governancesentinel-check><a href=/docs/hertz/tutorials/service-governance/sentinel/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governancesentinel><span>Sentinel</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-exten-li><input type=checkbox id=m-docshertztutorialsframework-exten-check>
<label for=m-docshertztutorialsframework-exten-check><a href=/docs/hertz/tutorials/framework-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-exten><span>Framework Extension</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenmonitor-li><input type=checkbox id=m-docshertztutorialsframework-extenmonitor-check>
<label for=m-docshertztutorialsframework-extenmonitor-check><a href=/docs/hertz/tutorials/framework-exten/monitor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenmonitor><span>Monitoring Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenlog-li><input type=checkbox id=m-docshertztutorialsframework-extenlog-check>
<label for=m-docshertztutorialsframework-extenlog-check><a href=/docs/hertz/tutorials/framework-exten/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenlog><span>Logger Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenservice_discovery-li><input type=checkbox id=m-docshertztutorialsframework-extenservice_discovery-check>
<label for=m-docshertztutorialsframework-extenservice_discovery-check><a href=/docs/hertz/tutorials/framework-exten/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenservice_discovery><span>Service Registration and Service Discovery Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-extenadvanced-exten-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-exten-check>
<label for=m-docshertztutorialsframework-extenadvanced-exten-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-extenadvanced-exten><span>Advanced Extensions</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check>
<label for=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib><span>Network Library Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extenprotocol-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extenprotocol-check>
<label for=m-docshertztutorialsframework-extenadvanced-extenprotocol-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extenprotocol><span>Protocol extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenresponse_writer-li><input type=checkbox id=m-docshertztutorialsframework-extenresponse_writer-check>
<label for=m-docshertztutorialsframework-extenresponse_writer-check><a href=/docs/hertz/tutorials/framework-exten/response_writer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenresponse_writer><span>Response Writer Extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialstoolkit-li><input type=checkbox id=m-docshertztutorialstoolkit-check>
<label for=m-docshertztutorialstoolkit-check><a href=/docs/hertz/tutorials/toolkit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkit><span>Code Generation</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialstoolkitusage-li><input type=checkbox id=m-docshertztutorialstoolkitusage-check>
<label for=m-docshertztutorialstoolkitusage-check><a href=/docs/hertz/tutorials/toolkit/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkitusage><span>hz usages</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageinstall-li><input type=checkbox id=m-docshertztutorialstoolkitusageinstall-check>
<label for=m-docshertztutorialstoolkitusageinstall-check><a href=/docs/hertz/tutorials/toolkit/usage/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageinstall><span>hz install</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-check>
<label for=m-docshertztutorialstoolkitusageusage-check><a href=/docs/hertz/tutorials/toolkit/usage/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage><span>hz basic usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-thrift-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-thrift-check>
<label for=m-docshertztutorialstoolkitusageusage-thrift-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-thrift><span>hz usage(thrift)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-protobuf-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-protobuf-check>
<label for=m-docshertztutorialstoolkitusageusage-protobuf-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-protobuf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-protobuf><span>hz usage(protobuf)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagelayout-li><input type=checkbox id=m-docshertztutorialstoolkitusagelayout-check>
<label for=m-docshertztutorialstoolkitusagelayout-check><a href=/docs/hertz/tutorials/toolkit/usage/layout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagelayout><span>hz layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageannotation-li><input type=checkbox id=m-docshertztutorialstoolkitusageannotation-check>
<label for=m-docshertztutorialstoolkitusageannotation-check><a href=/docs/hertz/tutorials/toolkit/usage/annotation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageannotation><span>hz annotation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecommand-li><input type=checkbox id=m-docshertztutorialstoolkitusagecommand-check>
<label for=m-docshertztutorialstoolkitusagecommand-check><a href=/docs/hertz/tutorials/toolkit/usage/command/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecommand><span>hz commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecautions-li><input type=checkbox id=m-docshertztutorialstoolkitusagecautions-check>
<label for=m-docshertztutorialstoolkitusagecautions-check><a href=/docs/hertz/tutorials/toolkit/usage/cautions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecautions><span>note</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkittemplate-li><input type=checkbox id=m-docshertztutorialstoolkittemplate-check>
<label for=m-docshertztutorialstoolkittemplate-check><a href=/docs/hertz/tutorials/toolkit/template/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkittemplate><span>hz custom template use</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitplugin-li><input type=checkbox id=m-docshertztutorialstoolkitplugin-check>
<label for=m-docshertztutorialstoolkitplugin-check><a href=/docs/hertz/tutorials/toolkit/plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitplugin><span>hz access plugin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitclient-li><input type=checkbox id=m-docshertztutorialstoolkitclient-check>
<label for=m-docshertztutorialstoolkitclient-check><a href=/docs/hertz/tutorials/toolkit/client/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitclient><span>hz client code generation</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzfaq-li><input type=checkbox id=m-docshertzfaq-check checked>
<label for=m-docshertzfaq-check><a href=/docs/hertz/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzfaq><span>FAQ</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertzreference-li><input type=checkbox id=m-docshertzreference-check checked>
<label for=m-docshertzreference-check><a href=/docs/hertz/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzreference><span>Reference</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceconfig-li><input type=checkbox id=m-docshertzreferenceconfig-check>
<label for=m-docshertzreferenceconfig-check><a href=/docs/hertz/reference/config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceconfig><span>Configuration instruction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceversion-li><input type=checkbox id=m-docshertzreferenceversion-check>
<label for=m-docshertzreferenceversion-check><a href=/docs/hertz/reference/version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceversion><span>Version Descriptions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferencejson-li><input type=checkbox id=m-docshertzreferencejson-check>
<label for=m-docshertzreferencejson-check><a href=/docs/hertz/reference/json/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferencejson><span>JSON Marshal Library</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en/docs/hertz/tutorials/basic-feature/middleware/jwt.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en/docs/hertz/tutorials/basic-feature/middleware/jwt.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=JWT" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/kitex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#install>Install</a></li><li><a href=#example>Example</a><ul><li><a href=#note>Note</a></li></ul></li><li><a href=#config>Config</a><ul><li><a href=#key>Key</a></li><li><a href=#keyfunc>KeyFunc</a></li><li><a href=#authenticator>Authenticator</a></li><li><a href=#authorizator>Authorizator</a></li><li><a href=#payloadfunc>PayloadFunc</a></li><li><a href=#identityhandler>IdentityHandler</a></li><li><a href=#unauthorized>Unauthorized</a></li><li><a href=#loginresponse>LoginResponse</a></li><li><a href=#logoutresponse>LogoutResponse</a></li><li><a href=#refreshresponse>RefreshResponse</a></li><li><a href=#tokenlookup>TokenLookup</a></li><li><a href=#timefunc>TimeFunc</a></li><li><a href=#httpstatusmessagefunc>HTTPStatusMessageFunc</a></li><li><a href=#cookie>Cookie</a></li><li><a href=#parseoptions>ParseOptions</a></li></ul></li><li><a href=#full-example>Full Example</a></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/>Hertz</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/>Tutorials</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/>Basic Feature</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/middleware/>Middleware Overview</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/docs/hertz/tutorials/basic-feature/middleware/jwt/>JWT</a></li></ol></nav><div class=td-content><h1>JWT</h1><header class=article-meta></header><p>JSON Web Token (JWT) is a lightweight authentication specification that allows us to use JWT to deliver secure and reliable information between users and servers. Essentially a token, it is a compact security method for passing between two sides of network communication.
Hertz also provides an <a href=https://github.com/hertz-contrib/jwt>implementation</a> of JWT, it uses gin <a href=https://github.com/appleboy/gin-jwt>implementation</a> for reference.</p><h2 id=install>Install</h2><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>go get github.com/hertz-contrib/jwt
</code></pre></div><h2 id=example>Example</h2><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>main</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000;font-weight:700>(</span>
    <span style=color:#4e9a06>&#34;context&#34;</span>
    <span style=color:#4e9a06>&#34;fmt&#34;</span>
    <span style=color:#4e9a06>&#34;log&#34;</span>
    <span style=color:#4e9a06>&#34;time&#34;</span>

    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app&#34;</span>
    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/app/server&#34;</span>
    <span style=color:#4e9a06>&#34;github.com/cloudwego/hertz/pkg/common/utils&#34;</span>
    <span style=color:#4e9a06>&#34;github.com/hertz-contrib/jwt&#34;</span>
<span style=color:#000;font-weight:700>)</span>

<span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>login</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>Username</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`form:&#34;username,required&#34; json:&#34;username,required&#34;`</span>
    <span style=color:#000>Password</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#4e9a06>`form:&#34;password,required&#34; json:&#34;password,required&#34;`</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>identityKey</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;id&#34;</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>PingHandler</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>c</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>user</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>_</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>ctx</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Get</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>ctx</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>utils</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>H</span><span style=color:#000;font-weight:700>{</span>
        <span style=color:#4e9a06>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>fmt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Sprintf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;username:%v&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>user</span><span style=color:#000;font-weight:700>.(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>UserName</span><span style=color:#000;font-weight:700>),</span>
    <span style=color:#000;font-weight:700>})</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#8f5902;font-style:italic>// User demo
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>User</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>UserName</span>  <span style=color:#204a87;font-weight:700>string</span>
    <span style=color:#000>FirstName</span> <span style=color:#204a87;font-weight:700>string</span>
    <span style=color:#000>LastName</span>  <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>func</span> <span style=color:#000>main</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>h</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>server</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Default</span><span style=color:#000;font-weight:700>()</span>

    <span style=color:#8f5902;font-style:italic>// the jwt middleware
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>Realm</span><span style=color:#000;font-weight:700>:</span>       <span style=color:#4e9a06>&#34;test zone&#34;</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000>Key</span><span style=color:#000;font-weight:700>:</span>         <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87>byte</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;secret key&#34;</span><span style=color:#000;font-weight:700>),</span>
        <span style=color:#000>Timeout</span><span style=color:#000;font-weight:700>:</span>     <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Hour</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000>MaxRefresh</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Hour</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000>IdentityKey</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000>PayloadFunc</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{})</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span><span style=color:#000;font-weight:700>{</span>
                    <span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UserName</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#000;font-weight:700>}</span>
            <span style=color:#000;font-weight:700>}</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span><span style=color:#000;font-weight:700>{}</span>
        <span style=color:#000;font-weight:700>},</span>
        <span style=color:#000>IdentityHandler</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#000>claims</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ExtractClaims</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>UserName</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>claims</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>].(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>),</span>
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>},</span>
        <span style=color:#000>Authenticator</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>loginVals</span> <span style=color:#000>login</span>
            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BindAndValidate</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ErrMissingLoginValues</span>
            <span style=color:#000;font-weight:700>}</span>
            <span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Username</span>
            <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Password</span>

            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;test&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;test&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>{</span>
                    <span style=color:#000>UserName</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>userID</span><span style=color:#000;font-weight:700>,</span>
                    <span style=color:#000>LastName</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#4e9a06>&#34;Hertz&#34;</span><span style=color:#000;font-weight:700>,</span>
                    <span style=color:#000>FirstName</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CloudWeGo&#34;</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#000;font-weight:700>},</span> <span style=color:#204a87;font-weight:700>nil</span>
            <span style=color:#000;font-weight:700>}</span>

            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ErrFailedAuthentication</span>
        <span style=color:#000;font-weight:700>},</span>
        <span style=color:#000>Authorizator</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UserName</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span>
            <span style=color:#000;font-weight:700>}</span>

            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span>
        <span style=color:#000;font-weight:700>},</span>
        <span style=color:#000>Unauthorized</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>code</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
                <span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#000>code</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#4e9a06>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#000;font-weight:700>})</span>
        <span style=color:#000;font-weight:700>},</span>
    <span style=color:#000;font-weight:700>})</span>
    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;JWT Error:&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>err</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#8f5902;font-style:italic>// When you use jwt.New(), the function is already automatically called for checking,
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// which means you don&#39;t need to call it again.
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>errInit</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MiddlewareInit</span><span style=color:#000;font-weight:700>()</span>

    <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>errInit</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Fatal</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;authMiddleware.MiddlewareInit() Error:&#34;</span> <span style=color:#ce5c00;font-weight:700>+</span> <span style=color:#000>errInit</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>())</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>POST</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/login&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LoginHandler</span><span style=color:#000;font-weight:700>)</span>

    <span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>NoRoute</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MiddlewareFunc</span><span style=color:#000;font-weight:700>(),</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>claims</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ExtractClaims</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span><span style=color:#000;font-weight:700>)</span>
        <span style=color:#000>log</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Printf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;NoRoute claims: %#v\n&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>claims</span><span style=color:#000;font-weight:700>)</span>
        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>404</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;PAGE_NOT_FOUND&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Page not found&#34;</span><span style=color:#000;font-weight:700>})</span>
    <span style=color:#000;font-weight:700>})</span>

    <span style=color:#000>auth</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Group</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/auth&#34;</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#8f5902;font-style:italic>// Refresh time can be longer than token timeout
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>auth</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/refresh_token&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RefreshHandler</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000>auth</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Use</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MiddlewareFunc</span><span style=color:#000;font-weight:700>())</span>
    <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>auth</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/ping&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>PingHandler</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Spin</span><span style=color:#000;font-weight:700>()</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><h3 id=note>Note</h3><p>Two cores of JWT are <strong>Authentication</strong> and <strong>Authorization</strong>.</p><p>When using Hertz&rsquo;s jwt extensions, it is necessary to bind <code>authMiddleware.LoginHandler</code> to the <code>/login</code> interface dealing with user authentication, and inject <code>authMiddleware.MiddlewareFunc()</code> for the route group that requires authorized access.</p><h2 id=config>Config</h2><p>Hertz provides <code>jwt</code> checks for routed requests by using middleware. Custom configuration of the <code>HertzJWTMiddleware</code> allows you to define the implementation details of jwt according to different scenarios.</p><p>In the <strong>Example</strong> above, only <strong>two necessary</strong> custom configurations are passed in. More common configurations for the <code>HertzJWTMiddleware</code> are as follows:</p><table><thead><tr><th style=text-align:left>Parameter</th><th style=text-align:left>Introduction</th></tr></thead><tbody><tr><td style=text-align:left><code>Realm</code></td><td style=text-align:left>The property used to set the name of the realm, the default value is <code>hertz jwt</code></td></tr><tr><td style=text-align:left><code>SigningAlgorithm</code></td><td style=text-align:left>The property used to set the signature algorithm, which can be HS256, HS384, HS512, RS256, RS384, or RS512, etc. The default value is <code>HS256</code></td></tr><tr><td style=text-align:left><code>Key</code></td><td style=text-align:left>The property used to set the signature key (required configuration)</td></tr><tr><td style=text-align:left><code>KeyFunc</code></td><td style=text-align:left>The property used to set a callback function to get the signature key, which will get the <code>jwt</code> signature key from <code>KeyFunc</code> when the token is parsed</td></tr><tr><td style=text-align:left><code>Timeout</code></td><td style=text-align:left>The property used to set the token expiry time, the default value is one hour</td></tr><tr><td style=text-align:left><code>MaxRefresh</code></td><td style=text-align:left>The property used to set the maximum token refresh time, allowing the client to refresh the token within <code>TokenTime</code> + <code>MaxRefresh</code>, appending a <code>Timeout</code> duration</td></tr><tr><td style=text-align:left><code>Authenticator</code></td><td style=text-align:left>The property used to set the user information for authentication at login (required configuration)</td></tr><tr><td style=text-align:left><code>Authorizator</code></td><td style=text-align:left>The property used to set the route access rights for authenticated users</td></tr><tr><td style=text-align:left><code>PayloadFunc</code></td><td style=text-align:left>The property used to set additional payload information into the token at login</td></tr><tr><td style=text-align:left><code>Unauthorized</code></td><td style=text-align:left>The property used to set the response for a failed jwt authentication process</td></tr><tr><td style=text-align:left><code>LoginResponse</code></td><td style=text-align:left>The property used to set the response for login</td></tr><tr><td style=text-align:left><code>LogoutResponse</code></td><td style=text-align:left>The property used to set the response for logout</td></tr><tr><td style=text-align:left><code>RefreshResponse</code></td><td style=text-align:left>The property used to set the response after the token has been valid for a refreshed period</td></tr><tr><td style=text-align:left><code>IdentityHandler</code></td><td style=text-align:left>The property used to set the function to get identity information, the function used with <code>IdentityKey</code> by default</td></tr><tr><td style=text-align:left><code>IdentityKey</code></td><td style=text-align:left>The property used to set the key to retrieve the identity information, the default key is <code>identity</code></td></tr><tr><td style=text-align:left><code>TokenLookup</code></td><td style=text-align:left>The property used to set the source of the token, you can choose <code>header</code>, <code>query</code>, <code>cookie</code>, <code>param</code>, or <code>form</code>, the default value is <code>header:Authorization</code></td></tr><tr><td style=text-align:left><code>TokenHeadName</code></td><td style=text-align:left>The property used to set the prefix for getting the token from the header, the default value is <code>Bearer</code></td></tr><tr><td style=text-align:left><code>WithoutDefaultTokenHeadName</code></td><td style=text-align:left>The property used to set the <code>TokenHeadName</code> to null, the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>TimeFunc</code></td><td style=text-align:left>The property used to set a function to get the current time, the default is <code>time.Now()</code></td></tr><tr><td style=text-align:left><code>HTTPStatusMessageFunc</code></td><td style=text-align:left>The property used to set the error message included in the response when an error occurs in the jwt validation process</td></tr><tr><td style=text-align:left><code>SendCookie</code></td><td style=text-align:left>The property used to set the token to be returned as a cookie at the same time, the following cookie-related configurations work if this property is true, and the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>CookieMaxAge</code></td><td style=text-align:left>The property used to set the validity of the cookie, the default value is one hour as defined by <code>Timeout</code></td></tr><tr><td style=text-align:left><code>SecureCookie</code></td><td style=text-align:left>The property used to set the cookie is not allowed to be passed through HTTPS, the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>CookieHTTPOnly</code></td><td style=text-align:left>The property used to set allows clients to access the cookie for development purposes, the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>CookieDomain</code></td><td style=text-align:left>The property used to set the domain to which the cookie belongs, the default value is empty</td></tr><tr><td style=text-align:left><code>SendAuthorization</code></td><td style=text-align:left>The property used to set the token to be added to the response header of all requests, the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>DisabledAbort</code></td><td style=text-align:left>The property used to set the request context to disable <code>abort()</code> calls if the jwt authentication process fails, the default value is <code>false</code></td></tr><tr><td style=text-align:left><code>CookieName</code></td><td style=text-align:left>The property used to set the name of the cookie</td></tr><tr><td style=text-align:left><code>CookieSameSite</code></td><td style=text-align:left>The property used to set the value of the SameSite property of a cookie using the parameters declared in <code>protocol.CookieSameSite</code></td></tr><tr><td style=text-align:left><code>ParseOptions</code></td><td style=text-align:left>The property used to set the property values of <code>jwt.Parser</code> configured as a functional-style options argument declared with <code>jwt.ParserOption</code></td></tr></tbody></table><h3 id=key>Key</h3><p>The property used to set the signature key</p><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>Key</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#204a87>byte</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;secret key&#34;</span><span style=color:#000;font-weight:700>),</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=keyfunc>KeyFunc</h3><p>The program executes with <code>KeyFunc</code> as a parameter to <code>jwt.Parse()</code>, which is responsible for providing the signing key for token parsing. By customizing the logic of <code>KeyFunc</code>, you can perform some custom operations before parsing the token, such as checking the validity of the signing method, selecting the corresponding signing key, storing the token in the request context, etc.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Token</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>KeyFunc</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>t</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Token</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GetSigningMethod</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SigningAlgorithm</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#000>t</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Method</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ErrInvalidSigningAlgorithm</span>
        <span style=color:#000;font-weight:700>}</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>mw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>usingPublicKeyAlgo</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>pubKey</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span>
        <span style=color:#000;font-weight:700>}</span>

        <span style=color:#8f5902;font-style:italic>// save token string if valid
</span><span style=color:#8f5902;font-style:italic></span>        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Set</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;JWT_TOKEN&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>token</span><span style=color:#000;font-weight:700>)</span>

        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>mw</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Key</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>nil</span>
    <span style=color:#000;font-weight:700>},</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=authenticator>Authenticator</h3><p>This function works with <code>HertzJWTMiddleware.LoginHandler</code> and is triggered on login, to authenticate the user&rsquo;s login information.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>Authenticator</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>loginVals</span> <span style=color:#000>login</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>BindAndValidate</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>!=</span> <span style=color:#204a87;font-weight:700>nil</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ErrMissingLoginValues</span>
        <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Username</span>
        <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>loginVals</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Password</span>

        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>userID</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;test&#34;</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>password</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;test&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>UserName</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>userID</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#000>LastName</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#4e9a06>&#34;Hertz&#34;</span><span style=color:#000;font-weight:700>,</span>
                <span style=color:#000>FirstName</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CloudWeGo&#34;</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#000;font-weight:700>},</span> <span style=color:#204a87;font-weight:700>nil</span>
        <span style=color:#000;font-weight:700>}</span>

        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>nil</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ErrFailedAuthentication</span>
    <span style=color:#000;font-weight:700>},</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=authorizator>Authorizator</h3><p>The property used to set the function for authenticated user access to the route. The following function determines whether the user has access to the route by verifying that the username is <code>admin</code>.</p><p>If access is not available, the response for jwt process authentication failure declared in the <code>Unauthorized</code> parameter will be triggered.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>bool</span>
</code></pre></div><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>Authorizator</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{},</span> <span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>bool</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UserName</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;admin&#34;</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>true</span>
        <span style=color:#000;font-weight:700>}</span>

        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#204a87;font-weight:700>false</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>

</code></pre></div><h3 id=payloadfunc>PayloadFunc</h3><p>If this parameter is not passed, the <code>payload</code> part of the <code>token</code> stores the expiry time and creation time of the <code>token</code> by default, while the Sample Code below stores username information additionally.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{})</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span>
</code></pre></div><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>PayloadFunc</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>data</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{})</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ok</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>data</span><span style=color:#000;font-weight:700>.(</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>);</span> <span style=color:#000>ok</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span><span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>v</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>UserName</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>}</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>MapClaims</span><span style=color:#000;font-weight:700>{}</span>
    <span style=color:#000;font-weight:700>},</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=identityhandler>IdentityHandler</h3><p>The <code>IdentityHandler</code> function is used to set up the function that extracts the user information from the token in each request after a successful login. The user information mentioned here is already stored in the payload part of the token because the <code>PayloadFunc</code> function is triggered when the user successfully logs in.</p><p>Specifically: By using <code>identityKey</code> within <code>IdentityHandler</code>, the token storing the user information is acquired from the request context. And the required information is extracted from it, encapsulated into a User structure, and stored in the request context with <code>identityKey</code> as the key and User structure as the value for subsequent use.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}</span>
</code></pre></div><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>IdentityHandler</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>claims</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ExtractClaims</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span><span style=color:#000;font-weight:700>)</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>User</span><span style=color:#000;font-weight:700>{</span>
            <span style=color:#000>UserName</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>claims</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>identityKey</span><span style=color:#000;font-weight:700>].(</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>),</span>
        <span style=color:#000;font-weight:700>}</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=unauthorized>Unauthorized</h3><p>The property used to set the response when a jwt authorization fails. The following function returns the error code and error message from the parameter list encapsulated in a JSON response.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>Unauthorized</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>message</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>code</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
            <span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#000>code</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#4e9a06>&#34;message&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>message</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000;font-weight:700>})</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=loginresponse>LoginResponse</h3><p>The property used to set the login response binding with <code>LoginHandler</code>.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>token</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>expire</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>LoginResponse</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>token</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>expire</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
            <span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span>   <span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#4e9a06>&#34;token&#34;</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>token</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#4e9a06>&#34;expire&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>expire</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Format</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RFC3339</span><span style=color:#000;font-weight:700>),</span>
        <span style=color:#000;font-weight:700>})</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
<span style=color:#8f5902;font-style:italic>// be called within LoginHandler
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>POST</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/login&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LoginHandler</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><h3 id=logoutresponse>LogoutResponse</h3><p>The property used to set the logout response binding with <code>LogoutHandler</code>.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>LogoutResponse</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
            <span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000;font-weight:700>})</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
<span style=color:#8f5902;font-style:italic>// be called within LogoutHandler
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>h</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>POST</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/logout&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>LogoutHandler</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><h3 id=refreshresponse>RefreshResponse</h3><p>The property used to set the refresh response binding with <code>RefreshHandler</code>.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>token</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>expire</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>RefreshResponse</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>code</span> <span style=color:#204a87;font-weight:700>int</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>token</span> <span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>expire</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>c</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JSON</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#204a87;font-weight:700>interface</span><span style=color:#000;font-weight:700>{}{</span>
            <span style=color:#4e9a06>&#34;code&#34;</span><span style=color:#000;font-weight:700>:</span>   <span style=color:#000>http</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>StatusOK</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#4e9a06>&#34;token&#34;</span><span style=color:#000;font-weight:700>:</span>  <span style=color:#000>token</span><span style=color:#000;font-weight:700>,</span>
            <span style=color:#4e9a06>&#34;expire&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>expire</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Format</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RFC3339</span><span style=color:#000;font-weight:700>),</span>
        <span style=color:#000;font-weight:700>})</span>
    <span style=color:#000;font-weight:700>},</span>
<span style=color:#000;font-weight:700>})</span>
<span style=color:#8f5902;font-style:italic>// be called within RefreshHandler
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>auth</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>GET</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;/refresh_token&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RefreshHandler</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><h3 id=tokenlookup>TokenLookup</h3><p>There are four options for declaring the source of a token as a key-value pair, with the default value being <code>header:Authorization</code>. If more than one token source is declared, the first that satisfies the input format is selected while the rest are ignored.</p><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#8f5902;font-style:italic>// - &#34;header:&lt;name&gt;&#34;
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// - &#34;query:&lt;name&gt;&#34;
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// - &#34;cookie:&lt;name&gt;&#34;
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// - &#34;param:&lt;name&gt;&#34;
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#8f5902;font-style:italic>// - &#34;form:&lt;name&gt;&#34;
</span><span style=color:#8f5902;font-style:italic></span>    <span style=color:#000>TokenLookup</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;header: Authorization, query: token, cookie: jwt&#34;</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=timefunc>TimeFunc</h3><p>The property used to set the function to get the current time, which defaults to time.Now(). In the jwt validation process, validation of the token&rsquo;s expiry date needs to start with the time the token was created. <code>TimeFunc</code> provides a function for jwt to get the current time, and you can choose to override this default configuration for some cases where the time zone is different.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>TimeFunc</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Time</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Now</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=httpstatusmessagefunc>HTTPStatusMessageFunc</h3><p>If the jwt validation process generates an error, such as jwt authentication failure, token authentication failure, failure to refresh token validity, etc., the corresponding error is passed as a parameter to <code>HTTPStatusMessageFunc</code>, which extracts the error message and then passed as a string parameter to the jwt authentication failure response declared by <code>Unauthorized</code>.</p><p>Function signatures:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>e</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>string</span>
</code></pre></div><p>Default handling logic:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>HTTPStatusMessageFunc</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>func</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>e</span> <span style=color:#204a87;font-weight:700>error</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>ctx</span> <span style=color:#000>context</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Context</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>c</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>app</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>RequestContext</span><span style=color:#000;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>e</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Error</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=cookie>Cookie</h3><p>There are eight cookie-related configuration parameters. With <code>SendCookie</code> set to <code>true</code> and <code>TokenLookup</code> set to <code>cookie: jwt</code>, the token will be returned as a cookie at the same time, and will be fetched from the HTTP cookie in the next request.</p><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>SendCookie</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>TokenLookup</span><span style=color:#000;font-weight:700>:</span>       <span style=color:#4e9a06>&#34;cookie: jwt&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>CookieMaxAge</span><span style=color:#000;font-weight:700>:</span>      <span style=color:#000>time</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Hour</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>SecureCookie</span><span style=color:#000;font-weight:700>:</span>      <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>CookieHTTPOnly</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>CookieDomain</span><span style=color:#000;font-weight:700>:</span>      <span style=color:#4e9a06>&#34;.test.com&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>CookieName</span><span style=color:#000;font-weight:700>:</span>        <span style=color:#4e9a06>&#34;jwt-cookie&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#000>CookieSameSite</span><span style=color:#000;font-weight:700>:</span>    <span style=color:#000>protocol</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>CookieSameSiteDisabled</span><span style=color:#000;font-weight:700>,</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h3 id=parseoptions>ParseOptions</h3><p>There are three related configurations that can be enabled using <code>ParseOptions</code>:</p><ul><li><code>WithValidMethods</code>: Used to supply algorithm methods that the parser will check. Only those methods will be considered valid</li><li><code>WithJSONNumber</code>: Used to configure the underlying JSON parser with <code>UseNumber</code></li><li><code>WithoutClaimsValidation</code>: Used to disable claims validation</li></ul><p>Sample Code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#000>authMiddleware</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>err</span> <span style=color:#ce5c00;font-weight:700>:=</span> <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>New</span><span style=color:#000;font-weight:700>(</span><span style=color:#ce5c00;font-weight:700>&amp;</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>HertzJWTMiddleware</span><span style=color:#000;font-weight:700>{</span>
    <span style=color:#000>ParseOptions</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>ParserOption</span><span style=color:#000;font-weight:700>{</span>
        <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithValidMethods</span><span style=color:#000;font-weight:700>([]</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;HS256&#34;</span><span style=color:#000;font-weight:700>}),</span>
        <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithJSONNumber</span><span style=color:#000;font-weight:700>(),</span>
        <span style=color:#000>jwt</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>WithoutClaimsValidation</span><span style=color:#000;font-weight:700>(),</span>
    <span style=color:#000;font-weight:700>},</span>
<span style=color:#000;font-weight:700>})</span>
</code></pre></div><h2 id=full-example>Full Example</h2><p>As for usage, you may refer to hertz <a href=https://github.com/cloudwego/hertz-examples/tree/main/bizdemo/hertz_jwt>example</a></p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
April 11, 2023
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/237eda3f3f9aaa78d070c6eb9b823760cd1285c2>chore: fix npm security issue (#600) (237eda3)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/cloudwego/shared_invite/zt-tmcbzewn-UjXMF3ZQsPhl7W3tEDZboA aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.staticfile.org/bootstrap/4.6.0/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.cc7c4d018c27afc5b5c4e9ddd9f5b1fca60e2005312b12b5bec0518202c51314.js integrity="sha256-zHxNAYwnr8W1xOnd2fWx/KYOIAUxKxK1vsBRggLFExQ=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>
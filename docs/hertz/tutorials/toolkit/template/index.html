<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>hz custom template use | CloudWeGo</title><meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:title" content="hz custom template use"><meta property="og:description" content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><meta property="og:type" content="article"><meta property="og:url" content="https://www.cloudwego.io/docs/hertz/tutorials/toolkit/template/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2023-02-20T00:00:00+00:00"><meta property="article:modified_time" content="2023-04-11T13:43:08+08:00"><meta property="og:site_name" content="CloudWeGo"><meta itemprop=name content="hz custom template use"><meta itemprop=description content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><meta itemprop=datePublished content="2023-02-20T00:00:00+00:00"><meta itemprop=dateModified content="2023-04-11T13:43:08+08:00"><meta itemprop=wordCount content="2771"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="hz custom template use"><meta name=twitter:description content="Hertz provides command-line tools (hz) that support custom template features, including:
 Customize the layout template (i.e., the directory structure of the generated code) Custom package templates (i.e. service-related code structures, including handler, router, etc.)  Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.
Custom layout template  Users can modify or rewrite according to the default template to meet their own needs"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QYWRQRLPRM')</script><script>var _hmt=_hmt||[];(function(){var a=document.createElement("script"),b;a.src="https://hm.baidu.com/hm.js?f1808c42af827f368aa7eca3baae6d55",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b)})()</script><link rel=preload href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css as=style><link href=/scss/main.min.8090891c264e3fa6623cbdac7ce42c1259703e8068886edd79eb5ec5f88cd0c9.css rel=stylesheet integrity><script src=https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><link rel=stylesheet href=/css/prism.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QYWRQRLPRM','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand-xl navbar-dark td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#main_navbar aria-controls=main_navbar aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0 ml-auto"><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/hertz/>Hertz</a>
<a class=dropdown-item href=/docs/volo/>Volo</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a>
<a class=dropdown-item href=/docs/cwgo/>Cwgo</a>
<a class=dropdown-item href=/docs/motore/>Motore</a>
<a class=dropdown-item href=/docs/pilota/>Pilota</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/cooperation/><span>Cooperation</span></a></li><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Security</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/security/safety-bulletin/>safety-bulletin</a>
<a class=dropdown-item href=/security/vulnerability-reporting/>vulnerability-reporting</a></div></li><li class="nav-item dropdown mr-4"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/toolkit/template/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.ffbc4e552f7e4427acd2c28307a2610a.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.ffbc4e552f7e4427acd2c28307a2610a.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/hertz/tutorials/toolkit/template/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertz-li><input type=checkbox id=m-docshertz-check checked>
<label for=m-docshertz-check><a href=/docs/hertz/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertz><span>Hertz</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzoverview-li><input type=checkbox id=m-docshertzoverview-check checked>
<label for=m-docshertzoverview-check><a href=/docs/hertz/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzoverview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzgetting-started-li><input type=checkbox id=m-docshertzgetting-started-check checked>
<label for=m-docshertzgetting-started-check><a href=/docs/hertz/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzgetting-started><span>Getting Started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorials-li><input type=checkbox id=m-docshertztutorials-check checked>
<label for=m-docshertztutorials-check><a href=/docs/hertz/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorials><span>Tutorials</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsexample-li><input type=checkbox id=m-docshertztutorialsexample-check>
<label for=m-docshertztutorialsexample-check><a href=/docs/hertz/tutorials/example/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsexample><span>Example code</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-feature-li><input type=checkbox id=m-docshertztutorialsbasic-feature-check>
<label for=m-docshertztutorialsbasic-feature-check><a href=/docs/hertz/tutorials/basic-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-feature><span>Basic Feature</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurenetwork-lib-li><input type=checkbox id=m-docshertztutorialsbasic-featurenetwork-lib-check>
<label for=m-docshertztutorialsbasic-featurenetwork-lib-check><a href=/docs/hertz/tutorials/basic-feature/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurenetwork-lib><span>Network Lib</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureroute-li><input type=checkbox id=m-docshertztutorialsbasic-featureroute-check>
<label for=m-docshertztutorialsbasic-featureroute-check><a href=/docs/hertz/tutorials/basic-feature/route/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureroute><span>Route</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-featuremiddleware-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddleware-check>
<label for=m-docshertztutorialsbasic-featuremiddleware-check><a href=/docs/hertz/tutorials/basic-feature/middleware/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featuremiddleware><span>Middleware Overview</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecors-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecors-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecors-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecors><span>CORS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerecovery-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerecovery-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerecovery-check><a href=/docs/hertz/tutorials/basic-feature/middleware/recovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerecovery><span>Recovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarebasic-auth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/basic-auth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarebasic-auth><span>Basic Auth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarejwt-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarejwt-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarejwt-check><a href=/docs/hertz/tutorials/basic-feature/middleware/jwt/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarejwt><span>JWT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaregzip-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaregzip-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaregzip-check><a href=/docs/hertz/tutorials/basic-feature/middleware/gzip/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaregzip><span>Gzip Compress</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarei18n-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarei18n-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarei18n-check><a href=/docs/hertz/tutorials/basic-feature/middleware/i18n/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarei18n><span>Internationalization</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresession-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresession-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresession-check><a href=/docs/hertz/tutorials/basic-feature/middleware/session/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresession><span>Session Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarepprof-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarepprof-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarepprof-check><a href=/docs/hertz/tutorials/basic-feature/middleware/pprof/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarepprof><span>Pprof</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarekeyauth-check><a href=/docs/hertz/tutorials/basic-feature/middleware/keyauth/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarekeyauth><span>KeyAuth</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareswagger-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareswagger-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareswagger-check><a href=/docs/hertz/tutorials/basic-feature/middleware/swagger/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareswagger><span>Swagger</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarerequestid-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarerequestid-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarerequestid-check><a href=/docs/hertz/tutorials/basic-feature/middleware/requestid/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarerequestid><span>Request ID</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareaccess-log-check><a href=/docs/hertz/tutorials/basic-feature/middleware/access-log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareaccess-log><span>access log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresecure-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresecure-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresecure-check><a href=/docs/hertz/tutorials/basic-feature/middleware/secure/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresecure><span>Secure</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewaresentry-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewaresentry-check>
<label for=m-docshertztutorialsbasic-featuremiddlewaresentry-check><a href=/docs/hertz/tutorials/basic-feature/middleware/sentry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewaresentry><span>Sentry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecsrf-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecsrf-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecsrf-check><a href=/docs/hertz/tutorials/basic-feature/middleware/csrf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecsrf><span>CSRF</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecasbin-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecasbin-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecasbin-check><a href=/docs/hertz/tutorials/basic-feature/middleware/casbin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecasbin><span>Casbin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewareetag-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewareetag-check>
<label for=m-docshertztutorialsbasic-featuremiddlewareetag-check><a href=/docs/hertz/tutorials/basic-feature/middleware/etag/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewareetag><span>ETag</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuremiddlewarecache-li><input type=checkbox id=m-docshertztutorialsbasic-featuremiddlewarecache-check>
<label for=m-docshertztutorialsbasic-featuremiddlewarecache-check><a href=/docs/hertz/tutorials/basic-feature/middleware/cache/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuremiddlewarecache><span>Cache</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurebinding-and-validate-li><input type=checkbox id=m-docshertztutorialsbasic-featurebinding-and-validate-check>
<label for=m-docshertztutorialsbasic-featurebinding-and-validate-check><a href=/docs/hertz/tutorials/basic-feature/binding-and-validate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurebinding-and-validate><span>Binding and validate</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsbasic-featureprotocol-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocol-check>
<label for=m-docshertztutorialsbasic-featureprotocol-check><a href=/docs/hertz/tutorials/basic-feature/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsbasic-featureprotocol><span>Protocol</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolhttp2-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolhttp2-check>
<label for=m-docshertztutorialsbasic-featureprotocolhttp2-check><a href=/docs/hertz/tutorials/basic-feature/protocol/http2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolhttp2><span>HTTP2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocolwebsocket-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocolwebsocket-check>
<label for=m-docshertztutorialsbasic-featureprotocolwebsocket-check><a href=/docs/hertz/tutorials/basic-feature/protocol/websocket/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocolwebsocket><span>Websocket</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureprotocoltls-li><input type=checkbox id=m-docshertztutorialsbasic-featureprotocoltls-check>
<label for=m-docshertztutorialsbasic-featureprotocoltls-check><a href=/docs/hertz/tutorials/basic-feature/protocol/tls/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureprotocoltls><span>TLS</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurestream-li><input type=checkbox id=m-docshertztutorialsbasic-featurestream-check>
<label for=m-docshertztutorialsbasic-featurestream-check><a href=/docs/hertz/tutorials/basic-feature/stream/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurestream><span>Stream</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureerror-handle-li><input type=checkbox id=m-docshertztutorialsbasic-featureerror-handle-check>
<label for=m-docshertztutorialsbasic-featureerror-handle-check><a href=/docs/hertz/tutorials/basic-feature/error-handle/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureerror-handle><span>Error Handle</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featuregraceful-shutdown-li><input type=checkbox id=m-docshertztutorialsbasic-featuregraceful-shutdown-check>
<label for=m-docshertztutorialsbasic-featuregraceful-shutdown-check><a href=/docs/hertz/tutorials/basic-feature/graceful-shutdown/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featuregraceful-shutdown><span>Graceful Shutdown</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureproxy-li><input type=checkbox id=m-docshertztutorialsbasic-featureproxy-check>
<label for=m-docshertztutorialsbasic-featureproxy-check><a href=/docs/hertz/tutorials/basic-feature/proxy/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureproxy><span>Forward Proxy and Reverse Proxy</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureretry-li><input type=checkbox id=m-docshertztutorialsbasic-featureretry-check>
<label for=m-docshertztutorialsbasic-featureretry-check><a href=/docs/hertz/tutorials/basic-feature/retry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureretry><span>Retry</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featurehooks-li><input type=checkbox id=m-docshertztutorialsbasic-featurehooks-check>
<label for=m-docshertztutorialsbasic-featurehooks-check><a href=/docs/hertz/tutorials/basic-feature/hooks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featurehooks><span>Hooks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureunit-test-li><input type=checkbox id=m-docshertztutorialsbasic-featureunit-test-check>
<label for=m-docshertztutorialsbasic-featureunit-test-check><a href=/docs/hertz/tutorials/basic-feature/unit-test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureunit-test><span>Unit Test</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsbasic-featureadaptor-li><input type=checkbox id=m-docshertztutorialsbasic-featureadaptor-check>
<label for=m-docshertztutorialsbasic-featureadaptor-check><a href=/docs/hertz/tutorials/basic-feature/adaptor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsbasic-featureadaptor><span>Adaptor</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsobservability-li><input type=checkbox id=m-docshertztutorialsobservability-check>
<label for=m-docshertztutorialsobservability-check><a href=/docs/hertz/tutorials/observability/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsobservability><span>Observability</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitylog-li><input type=checkbox id=m-docshertztutorialsobservabilitylog-check>
<label for=m-docshertztutorialsobservabilitylog-check><a href=/docs/hertz/tutorials/observability/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitylog><span>Log</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitytracing-li><input type=checkbox id=m-docshertztutorialsobservabilitytracing-check>
<label for=m-docshertztutorialsobservabilitytracing-check><a href=/docs/hertz/tutorials/observability/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitytracing><span>Tracing</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilitymonitoring-li><input type=checkbox id=m-docshertztutorialsobservabilitymonitoring-check>
<label for=m-docshertztutorialsobservabilitymonitoring-check><a href=/docs/hertz/tutorials/observability/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilitymonitoring><span>Monitoring</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsobservabilityopen-telemetry-li><input type=checkbox id=m-docshertztutorialsobservabilityopen-telemetry-check>
<label for=m-docshertztutorialsobservabilityopen-telemetry-check><a href=/docs/hertz/tutorials/observability/open-telemetry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsobservabilityopen-telemetry><span>OpenTelemetry</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsservice-governance-li><input type=checkbox id=m-docshertztutorialsservice-governance-check>
<label for=m-docshertztutorialsservice-governance-check><a href=/docs/hertz/tutorials/service-governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsservice-governance><span>Service Governance</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governanceservice_discovery-li><input type=checkbox id=m-docshertztutorialsservice-governanceservice_discovery-check>
<label for=m-docshertztutorialsservice-governanceservice_discovery-check><a href=/docs/hertz/tutorials/service-governance/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governanceservice_discovery><span>Service Registration and Discovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsservice-governancesentinel-li><input type=checkbox id=m-docshertztutorialsservice-governancesentinel-check>
<label for=m-docshertztutorialsservice-governancesentinel-check><a href=/docs/hertz/tutorials/service-governance/sentinel/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsservice-governancesentinel><span>Sentinel</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-exten-li><input type=checkbox id=m-docshertztutorialsframework-exten-check>
<label for=m-docshertztutorialsframework-exten-check><a href=/docs/hertz/tutorials/framework-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-exten><span>Framework Extension</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenmonitor-li><input type=checkbox id=m-docshertztutorialsframework-extenmonitor-check>
<label for=m-docshertztutorialsframework-extenmonitor-check><a href=/docs/hertz/tutorials/framework-exten/monitor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenmonitor><span>Monitoring Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenlog-li><input type=checkbox id=m-docshertztutorialsframework-extenlog-check>
<label for=m-docshertztutorialsframework-extenlog-check><a href=/docs/hertz/tutorials/framework-exten/log/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenlog><span>Logger Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenservice_discovery-li><input type=checkbox id=m-docshertztutorialsframework-extenservice_discovery-check>
<label for=m-docshertztutorialsframework-extenservice_discovery-check><a href=/docs/hertz/tutorials/framework-exten/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenservice_discovery><span>Service Registration and Service Discovery Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialsframework-extenadvanced-exten-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-exten-check>
<label for=m-docshertztutorialsframework-extenadvanced-exten-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialsframework-extenadvanced-exten><span>Advanced Extensions</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check>
<label for=m-docshertztutorialsframework-extenadvanced-extennetwork-lib-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/network-lib/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extennetwork-lib><span>Network Library Extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenadvanced-extenprotocol-li><input type=checkbox id=m-docshertztutorialsframework-extenadvanced-extenprotocol-check>
<label for=m-docshertztutorialsframework-extenadvanced-extenprotocol-check><a href=/docs/hertz/tutorials/framework-exten/advanced-exten/protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenadvanced-extenprotocol><span>Protocol extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialsframework-extenresponse_writer-li><input type=checkbox id=m-docshertztutorialsframework-extenresponse_writer-check>
<label for=m-docshertztutorialsframework-extenresponse_writer-check><a href=/docs/hertz/tutorials/framework-exten/response_writer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialsframework-extenresponse_writer><span>Response Writer Extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docshertztutorialstoolkit-li><input type=checkbox id=m-docshertztutorialstoolkit-check checked>
<label for=m-docshertztutorialstoolkit-check><a href=/docs/hertz/tutorials/toolkit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkit><span>Code Generation</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertztutorialstoolkitusage-li><input type=checkbox id=m-docshertztutorialstoolkitusage-check>
<label for=m-docshertztutorialstoolkitusage-check><a href=/docs/hertz/tutorials/toolkit/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertztutorialstoolkitusage><span>hz usages</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageinstall-li><input type=checkbox id=m-docshertztutorialstoolkitusageinstall-check>
<label for=m-docshertztutorialstoolkitusageinstall-check><a href=/docs/hertz/tutorials/toolkit/usage/install/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageinstall><span>hz install</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-check>
<label for=m-docshertztutorialstoolkitusageusage-check><a href=/docs/hertz/tutorials/toolkit/usage/usage/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage><span>hz basic usage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-thrift-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-thrift-check>
<label for=m-docshertztutorialstoolkitusageusage-thrift-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-thrift/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-thrift><span>hz usage(thrift)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageusage-protobuf-li><input type=checkbox id=m-docshertztutorialstoolkitusageusage-protobuf-check>
<label for=m-docshertztutorialstoolkitusageusage-protobuf-check><a href=/docs/hertz/tutorials/toolkit/usage/usage-protobuf/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageusage-protobuf><span>hz usage(protobuf)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagelayout-li><input type=checkbox id=m-docshertztutorialstoolkitusagelayout-check>
<label for=m-docshertztutorialstoolkitusagelayout-check><a href=/docs/hertz/tutorials/toolkit/usage/layout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagelayout><span>hz layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusageannotation-li><input type=checkbox id=m-docshertztutorialstoolkitusageannotation-check>
<label for=m-docshertztutorialstoolkitusageannotation-check><a href=/docs/hertz/tutorials/toolkit/usage/annotation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusageannotation><span>hz annotation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecommand-li><input type=checkbox id=m-docshertztutorialstoolkitusagecommand-check>
<label for=m-docshertztutorialstoolkitusagecommand-check><a href=/docs/hertz/tutorials/toolkit/usage/command/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecommand><span>hz commands</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitusagecautions-li><input type=checkbox id=m-docshertztutorialstoolkitusagecautions-check>
<label for=m-docshertztutorialstoolkitusagecautions-check><a href=/docs/hertz/tutorials/toolkit/usage/cautions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitusagecautions><span>note</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docshertztutorialstoolkittemplate-li><input type=checkbox id=m-docshertztutorialstoolkittemplate-check checked>
<label for=m-docshertztutorialstoolkittemplate-check><a href=/docs/hertz/tutorials/toolkit/template/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkittemplate><span class=td-sidebar-nav-active-item>hz custom template use</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitplugin-li><input type=checkbox id=m-docshertztutorialstoolkitplugin-check>
<label for=m-docshertztutorialstoolkitplugin-check><a href=/docs/hertz/tutorials/toolkit/plugin/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitplugin><span>hz access plugin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertztutorialstoolkitclient-li><input type=checkbox id=m-docshertztutorialstoolkitclient-check>
<label for=m-docshertztutorialstoolkitclient-check><a href=/docs/hertz/tutorials/toolkit/client/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertztutorialstoolkitclient><span>hz client code generation</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzfaq-li><input type=checkbox id=m-docshertzfaq-check checked>
<label for=m-docshertzfaq-check><a href=/docs/hertz/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzfaq><span>FAQ</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docshertzreference-li><input type=checkbox id=m-docshertzreference-check checked>
<label for=m-docshertzreference-check><a href=/docs/hertz/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docshertzreference><span>Reference</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceconfig-li><input type=checkbox id=m-docshertzreferenceconfig-check>
<label for=m-docshertzreferenceconfig-check><a href=/docs/hertz/reference/config/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceconfig><span>Configuration instruction</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferenceversion-li><input type=checkbox id=m-docshertzreferenceversion-check>
<label for=m-docshertzreferenceversion-check><a href=/docs/hertz/reference/version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferenceversion><span>Version Descriptions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docshertzreferencejson-li><input type=checkbox id=m-docshertzreferencejson-check>
<label for=m-docshertzreferencejson-check><a href=/docs/hertz/reference/json/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docshertzreferencejson><span>JSON Marshal Library</span></a></label></li></ul></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en/docs/hertz/tutorials/toolkit/template.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en/docs/hertz/tutorials/toolkit/template.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=hz%20custom%20template%20use" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/kitex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#custom-layout-template>Custom layout template</a><ul><li><a href=#idl>IDL</a></li><li><a href=#command>Command</a></li><li><a href=#the-meaning-of-the-default-layout-template>The meaning of the default layout template</a></li><li><a href=#the-meaning-of-template-rendering-parameter-file>The meaning of template rendering parameter file</a></li><li><a href=#customize-a-layout-template>Customize a layout template</a></li></ul></li><li><a href=#custom-package-template>Custom package template</a><ul><li><a href=#command-1>Command</a></li><li><a href=#default-package-template>Default package template</a></li><li><a href=#customize-a-package-template>Customize a package template</a></li></ul></li><li><a href=#mvc-template-practice>MVC Template Practice</a></li><li><a href=#precautions>Precautions</a><ul><li><a href=#precautions-for-using-layout-templates>Precautions for using layout templates</a></li><li><a href=#precautions-for-using-package-templates>Precautions for using package templates</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/>Hertz</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/>Tutorials</a></li><li class=breadcrumb-item><a href=https://www.cloudwego.io/docs/hertz/tutorials/toolkit/>Code Generation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.cloudwego.io/docs/hertz/tutorials/toolkit/template/>hz custom template use</a></li></ol></nav><div class=td-content><h1>hz custom template use</h1><header class=article-meta></header><p>Hertz provides command-line tools (hz) that support custom template features, including:</p><ul><li>Customize the layout template (i.e., the directory structure of the generated code)</li><li>Custom package templates (i.e. service-related code structures, including handler, router, etc.)</li></ul><p>Users can provide their own templates and rendering parameters, combined with the ability of hz, to complete the custom code generation structure.</p><h2 id=custom-layout-template>Custom layout template</h2><blockquote><p>Users can modify or rewrite according to the default template to meet their own needs</p></blockquote><p>Hz takes advantage of the &ldquo;go template&rdquo; capability to support defining templates in &ldquo;yaml&rdquo; format and uses &ldquo;json&rdquo; format to define rendering data.</p><p>The so-called layout template refers to the structure of the entire project. These structures have nothing to do with the specific idl definition, and can be directly generated without idl. The default structure is as follows:</p><pre><code>.
├── biz
│   ├── handler
│   │   └── ping.go
│   │   └── ****.go               // Set of handlers divided by service, the position can be changed according to handler_dir
│   ├── model
│   │   └── model.go              // idl generated struct, the position can be changed according to model_dir
│   └── router //undeveloped custom dir
│        └── register.go          // Route registration, used to call the specific route registration
│             └── route.go        // Specific route registration location
│             └── middleware.go   // Default middleware build location
├── .hz                           // hz Create code flags
├── go.mod
├── main.go                       // Start the entrance
├── router.go                     // User-defined route write location
└── router_gen.go                 // hz generated route registration call
</code></pre><h3 id=idl>IDL</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-thrift data-lang=thrift><span style=color:#8f5902;font-style:italic>// hello.thrift
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>go</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hello.example</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>struct</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HelloReq</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>string</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Name</span> <span style=color:#ce5c00;font-weight:700>(</span><span style=color:#000>api.query</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;name&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>struct</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HelloResp</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>string</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>RespBody</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>service</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HelloService</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>HelloResp</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HelloMethod</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>HelloReq</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>request</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>api.get</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/hello&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h3 id=command>Command</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hz new --mod<span style=color:#ce5c00;font-weight:700>=</span>github.com/hertz/hello --idl<span style=color:#ce5c00;font-weight:700>=</span>./hertzDemo/hello.thrift --customize_layout<span style=color:#ce5c00;font-weight:700>=</span>template/layout.yaml:template/data.json
</code></pre></div><h3 id=the-meaning-of-the-default-layout-template>The meaning of the default layout template</h3><blockquote><p>Note: The following bodies are all go templates</p></blockquote><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>layouts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># The directory of the generated handler will only be generated if there are files in the directory</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/handler/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># The directory of the generated model will only be generated if there are files in the directory</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/model/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># project main file</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>main.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package main
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      func main() {
</span><span style=color:#8f5902;font-style:italic>      	h := server.Default()
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	register(h)
</span><span style=color:#8f5902;font-style:italic>      	h.Spin()
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># go.mod file, need template rendering data {{.GoModule}} to generate</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>go.mod</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      module {{.GoModule}}
</span><span style=color:#8f5902;font-style:italic>      {{- if .UseApacheThrift}}
</span><span style=color:#8f5902;font-style:italic>      replace github.com/apache/thrift =&gt; github.com/apache/thrift v0.13.0
</span><span style=color:#8f5902;font-style:italic>      {{- end}}</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># .gitignore file</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>.gitignore</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;*.o\n*.a\n*.so\n_obj\n_test\n*.[568vq]\n[568vq].out\n*.cgo1.go\n*.cgo2.c\n_cgo_defun.c\n_cgo_gotypes.go\n_cgo_export.*\n_testmain.go\n*.exe\n*.exe~\n*.test\n*.prof\n*.rar\n*.zip\n*.gz\n*.psd\n*.bmd\n*.cfg\n*.pptx\n*.log\n*nohup.out\n*settings.pyc\n*.sublime-project\n*.sublime-workspace\n!.gitkeep\n.DS_Store\n/.idea\n/.vscode\n/output\n*.local.yml\ndumped_hertz_remote_config.json\n\t\t
</span><span style=color:#4e9a06>    \ &#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># .hz file, containing hz version, is the logo of the project created by hz, no need to transfer rendering data</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>.hz</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hz. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      hz version: {{.hzVersion}}</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># ping comes with ping handler</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/handler/ping.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package handler
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;context&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app&#34;
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/common/utils&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Ping .
</span><span style=color:#8f5902;font-style:italic>      func Ping(ctx context.Context, c *app.RequestContext) {
</span><span style=color:#8f5902;font-style:italic>      	c.JSON(200, utils.H{
</span><span style=color:#8f5902;font-style:italic>      		&#34;message&#34;: &#34;pong&#34;,
</span><span style=color:#8f5902;font-style:italic>      	})
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># `router_gen.go` is the file that defines the route registration</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>router_gen.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package main
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      	router &#34;{{.RouterPkgPath}}&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // register registers all routers.
</span><span style=color:#8f5902;font-style:italic>      func register(r *server.Hertz) {
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	router.GeneratedRegister(r)
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	customizedRegister(r)
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Custom route registration file</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>router.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package main
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      	handler &#34;{{.HandlerPkgPath}}&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // customizeRegister registers customize routers.
</span><span style=color:#8f5902;font-style:italic>      func customizedRegister(r *server.Hertz){
</span><span style=color:#8f5902;font-style:italic>      	r.GET(&#34;/ping&#34;, handler.Ping)
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	// your code ...
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Default route registration file, do not modify it</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/router/register.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package router
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // GeneratedRegister registers routers generated by IDL.
</span><span style=color:#8f5902;font-style:italic>      func GeneratedRegister(r *server.Hertz){
</span><span style=color:#8f5902;font-style:italic>      	//INSERT_POINT: DO NOT DELETE THIS LINE!
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span></code></pre></div><h3 id=the-meaning-of-template-rendering-parameter-file>The meaning of template rendering parameter file</h3><p>When a custom template and render data are specified, the options specified on the command line will not be used as render data, so the render data in the template needs to be defined by the user.</p><p>Hz uses &ldquo;json&rdquo; to specify render data, as described below</p><pre><code class=language-json5 data-lang=json5>{
  // global render parameters
  &quot;*&quot;: {
    &quot;GoModule&quot;: &quot;github.com/hz/test&quot;, // must be consistent with the command line, otherwise the subsequent generation of model, handler and other code will use the mod specified by the command line, resulting in inconsistency.
    &quot;ServiceName&quot;: &quot;p.s.m&quot;, // as specified on the command line
    &quot;UseApacheThrift&quot;: false // Set &quot;true&quot;/&quot;false&quot; depending on whether to use &quot;thrift&quot;
  },
  // router_gen.go route the registered render data,
  // &quot;biz/router&quot;points to the module of the routing code registered by the default idl, do not modify it
  &quot;router_gen.go&quot;: {
    &quot;RouterPkgPath&quot;: &quot;github.com/hz/test/biz/router&quot;
  }
}
</code></pre><h3 id=customize-a-layout-template>Customize a layout template</h3><blockquote><p>At present, the project layout generated by hz is already the most basic skeleton of a hertz project, so it is not recommended to delete the files in the existing template.</p><p>However, if the user wants a different layout, of course, you can also delete the corresponding file according to your own needs (except &ldquo;biz/register.go&rdquo;, the rest can be modified)</p><p>We welcome users to contribute their own templates</p></blockquote><p>Assuming that the user only wants &ldquo;main.go&rdquo; and &ldquo;go.mod&rdquo; files, then we modify the default template as follows:</p><h4 id=template>template</h4><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#8f5902;font-style:italic># layout.yaml</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>layouts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># project main file</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>main.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package main
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>        &#34;{{.GoModule}}/biz/router&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      func main() {
</span><span style=color:#8f5902;font-style:italic>      	h := server.Default()
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>        router.GeneratedRegister(h)
</span><span style=color:#8f5902;font-style:italic>        // do what you wanted
</span><span style=color:#8f5902;font-style:italic>        // add some render data: {{.MainData}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	h.Spin()
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># go.mod file, requires template rendering data {{.GoModule}} to generate</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>go.mod</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      module {{.GoModule}}
</span><span style=color:#8f5902;font-style:italic>      {{- if .UseApacheThrift}}
</span><span style=color:#8f5902;font-style:italic>      replace github.com/apache/thrift =&gt; github.com/apache/thrift v0.13.0
</span><span style=color:#8f5902;font-style:italic>      {{- end}}</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># Default route registration file, no need to modify</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/router/register.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package router
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // GeneratedRegister registers routers generated by IDL.
</span><span style=color:#8f5902;font-style:italic>      func GeneratedRegister(r *server.Hertz){
</span><span style=color:#8f5902;font-style:italic>      	//INSERT_POINT: DO NOT DELETE THIS LINE!
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span></code></pre></div><h4 id=render-data>render data</h4><pre><code class=language-json5 data-lang=json5>{
  &quot;*&quot;: {
    &quot;GoModule&quot;: &quot;github.com/hertz/hello&quot;,
    &quot;ServiceName&quot;: &quot;hello&quot;,
    &quot;UseApacheThrift&quot;: true
  },
  &quot;main.go&quot;: {
    &quot;MainData&quot;: &quot;this is customized render data&quot;
  }
}
</code></pre><p>Command:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>hz new --mod<span style=color:#ce5c00;font-weight:700>=</span>github.com/hertz/hello --idl<span style=color:#ce5c00;font-weight:700>=</span>./hertzDemo/hello.thrift --customize_layout<span style=color:#ce5c00;font-weight:700>=</span>template/layout.yaml:template/data.json
</code></pre></div><h2 id=custom-package-template>Custom package template</h2><blockquote><p>The template address of the hz template:</p><p>Users can modify or rewrite according to the default template to meet their own needs</p></blockquote><ul><li>The so-called package template refers to the code related to the idl definition. This part of the code involves the service, go_package/namespace, etc. specified when defining idl. It mainly includes the following parts:</li><li>handler.go: Handling function logic</li><li>router.go: the route registration logic of the service defined by the specific idl</li><li>register.go: logic for calling the content in <code>router.go</code></li><li><del>Model code: generated go struct; however, since the tool that uses plugins to generate model code currently does not have permission to modify the model template, this part of the function is not open for now</del></li></ul><h3 id=command-1>Command</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#8f5902;font-style:italic># After that, the package template rendering data will be provided, so the form of &#34;k-v&#34; is retained when entering the command, and &#34;:&#34; needs to be added after customize_package.</span>
hz new --mod<span style=color:#ce5c00;font-weight:700>=</span>github.com/hertz/hello --handler_dir<span style=color:#ce5c00;font-weight:700>=</span>handler_test --idl<span style=color:#ce5c00;font-weight:700>=</span>hertzDemo/hello.thrift --customize_package<span style=color:#ce5c00;font-weight:700>=</span>template/package.yaml:
</code></pre></div><h3 id=default-package-template>Default package template</h3><p>Note: The custom package template does not provide the function of rendering data, mainly because the rendering data is generated by the hz tool, so it does not provide the function of writing your own rendering data for now. You can modify the parts of the template that have nothing to do with rendering data to meet your own needs.</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>layouts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># path only indicates the template of handler.go, the specific handler path is determined by the default path and handler_dir</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>handler.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package {{.PackageName}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;context&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{- range $k, $v := .Imports}}
</span><span style=color:#8f5902;font-style:italic>      	{{$k}} &#34;{{$v.Package}}&#34;
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{range $_, $MethodInfo := .Methods}}
</span><span style=color:#8f5902;font-style:italic>      {{$MethodInfo.Comment}}
</span><span style=color:#8f5902;font-style:italic>      func {{$MethodInfo.Name}}(ctx context.Context, c *app.RequestContext) {
</span><span style=color:#8f5902;font-style:italic>      	var err error
</span><span style=color:#8f5902;font-style:italic>      	{{if ne $MethodInfo.RequestTypeName &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>      	var req {{$MethodInfo.RequestTypeName}}
</span><span style=color:#8f5902;font-style:italic>      	err = c.BindAndValidate(&amp;req)
</span><span style=color:#8f5902;font-style:italic>      	if err != nil {
</span><span style=color:#8f5902;font-style:italic>      		c.String(400, err.Error())
</span><span style=color:#8f5902;font-style:italic>      		return
</span><span style=color:#8f5902;font-style:italic>      	}
</span><span style=color:#8f5902;font-style:italic>      	{{end}}
</span><span style=color:#8f5902;font-style:italic>      	resp := new({{$MethodInfo.ReturnTypeName}})
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	c.{{.Serializer}}(200, resp)
</span><span style=color:#8f5902;font-style:italic>      }
</span><span style=color:#8f5902;font-style:italic>      {{end}}</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># path only indicates the router.go template, whose path is fixed at: biz/router/namespace/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>router.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package {{$.PackageName}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	{{range $k, $v := .HandlerPackages}}{{$k}} &#34;{{$v}}&#34;{{end}}
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      /*
</span><span style=color:#8f5902;font-style:italic>       This file will register all the routes of the services in the master idl.
</span><span style=color:#8f5902;font-style:italic>       And it will update automatically when you use the &#34;update&#34; command for the idl.
</span><span style=color:#8f5902;font-style:italic>       So don&#39;t modify the contents of the file, or your code will be deleted when it is updated.
</span><span style=color:#8f5902;font-style:italic>       */
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{define &#34;g&#34;}}
</span><span style=color:#8f5902;font-style:italic>      {{- if eq .Path &#34;/&#34;}}r
</span><span style=color:#8f5902;font-style:italic>      {{- else}}{{.GroupName}}{{end}}
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{define &#34;G&#34;}}
</span><span style=color:#8f5902;font-style:italic>      {{- if ne .Handler &#34;&#34;}}
</span><span style=color:#8f5902;font-style:italic>      	{{- .GroupName}}.{{.HttpMethod}}(&#34;{{.Path}}&#34;, append({{.MiddleWare}}Mw(), {{.Handler}})...)
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>      {{- if ne (len .Children) 0}}
</span><span style=color:#8f5902;font-style:italic>      {{.MiddleWare}} := {{template &#34;g&#34; .}}.Group(&#34;{{.Path}}&#34;, {{.MiddleWare}}Mw()...)
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>      {{- range $_, $router := .Children}}
</span><span style=color:#8f5902;font-style:italic>      {{- if ne .Handler &#34;&#34;}}
</span><span style=color:#8f5902;font-style:italic>      	{{template &#34;G&#34; $router}}
</span><span style=color:#8f5902;font-style:italic>      {{- else}}
</span><span style=color:#8f5902;font-style:italic>      	{	{{template &#34;G&#34; $router}}
</span><span style=color:#8f5902;font-style:italic>      	}
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Register register routes based on the IDL &#39;api.${HTTP Method}&#39; annotation.
</span><span style=color:#8f5902;font-style:italic>      func Register(r *server.Hertz) {
</span><span style=color:#8f5902;font-style:italic>      {{template &#34;G&#34; .Router}}
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># path only indicates the template of register.go, the path of register is fixed to biz/router/register.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>register.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator. DO NOT EDIT.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package router
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>      	{{$.PkgAlias}} &#34;{{$.Pkg}}&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // GeneratedRegister registers routers generated by IDL.
</span><span style=color:#8f5902;font-style:italic>      func GeneratedRegister(r *server.Hertz){
</span><span style=color:#8f5902;font-style:italic>      	//INSERT_POINT: DO NOT DELETE THIS LINE!
</span><span style=color:#8f5902;font-style:italic>      	{{$.PkgAlias}}.Register(r)
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>model.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># path only indicates the template of middleware.go, the path of middleware is the same as router.go: biz/router/namespace/</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>middleware.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package {{$.PackageName}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/app&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{define &#34;M&#34;}}
</span><span style=color:#8f5902;font-style:italic>      func {{.MiddleWare}}Mw() []app.HandlerFunc {
</span><span style=color:#8f5902;font-style:italic>      	// your code...
</span><span style=color:#8f5902;font-style:italic>      	return nil
</span><span style=color:#8f5902;font-style:italic>      }
</span><span style=color:#8f5902;font-style:italic>      {{range $_, $router := $.Children}}{{template &#34;M&#34; $router}}{{end}}
</span><span style=color:#8f5902;font-style:italic>      {{- end}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{template &#34;M&#34; .Router}}</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># path only indicates the template of client.go, the path of client code generation is specified by the user &#34;${client_dir}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>client.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      // Code generated by hertz generator.
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      package {{$.PackageName}}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      import (
</span><span style=color:#8f5902;font-style:italic>          &#34;github.com/cloudwego/hertz/pkg/app/client&#34;
</span><span style=color:#8f5902;font-style:italic>      	&#34;github.com/cloudwego/hertz/pkg/common/config&#34;
</span><span style=color:#8f5902;font-style:italic>      )
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      type {{.ServiceName}}Client struct {
</span><span style=color:#8f5902;font-style:italic>      	client * client.Client
</span><span style=color:#8f5902;font-style:italic>      }
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      func New{{.ServiceName}}Client(opt ...config.ClientOption) (*{{.ServiceName}}Client, error) {
</span><span style=color:#8f5902;font-style:italic>      	c, err := client.NewClient(opt...)
</span><span style=color:#8f5902;font-style:italic>      	if err != nil {
</span><span style=color:#8f5902;font-style:italic>      		return nil, err
</span><span style=color:#8f5902;font-style:italic>      	}
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	return &amp;{{.ServiceName}}Client{
</span><span style=color:#8f5902;font-style:italic>      		client: c,
</span><span style=color:#8f5902;font-style:italic>      	}, nil
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># handler_single means a separate handler template, used to update each new handler when updating</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>handler_single.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|+</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      {{.Comment}}
</span><span style=color:#8f5902;font-style:italic>      func {{.Name}}(ctx context.Context, c *app.RequestContext) {
</span><span style=color:#8f5902;font-style:italic>      // this my demo
</span><span style=color:#8f5902;font-style:italic>      	var err error
</span><span style=color:#8f5902;font-style:italic>      	{{if ne .RequestTypeName &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>      	var req {{.RequestTypeName}}
</span><span style=color:#8f5902;font-style:italic>      	err = c.BindAndValidate(&amp;req)
</span><span style=color:#8f5902;font-style:italic>      	if err != nil {
</span><span style=color:#8f5902;font-style:italic>      		c.String(400, err.Error())
</span><span style=color:#8f5902;font-style:italic>      		return
</span><span style=color:#8f5902;font-style:italic>      	}
</span><span style=color:#8f5902;font-style:italic>      	{{end}}
</span><span style=color:#8f5902;font-style:italic>      	resp := new({{.ReturnTypeName}})
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      	c.{{.Serializer}}(200, resp)
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># middleware_single means a separate middleware template, which is used to update each new middleware_single when updating</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>middleware_single.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>delims</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;{{&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#4e9a06>&#39;}}&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|+</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>      func {{.MiddleWare}}Mw() []app.HandlerFunc {
</span><span style=color:#8f5902;font-style:italic>      	// your code...
</span><span style=color:#8f5902;font-style:italic>      	return nil
</span><span style=color:#8f5902;font-style:italic>      }</span><span style=color:#f8f8f8;text-decoration:underline>      
</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h3 id=customize-a-package-template>Customize a package template</h3><blockquote><p>Like layout templates, users can also customize package templates.</p><p>As far as the templates provided by the package are concerned, the average user may only need to customize handler.go templates, because router.go/middleware.go/register.go are generally related to the idl definition and the user does not need to care, so hz currently also fixes the location of these templates, and generally does not need to be modified.</p><p>Therefore, users can customize the generated handler template according to their own needs to speed up development; however, since the default handler template integrates some model information and package information, the hz tool is required to provide rendering data. This part of the user can modify it according to their own situation, and it is generally recommended to leave model information.</p></blockquote><h4 id=add-a-new-template>Add a new template</h4><p>Considering that sometimes you may need to add your own implementation for some information of IDL, such as adding a single test for each generated handler. Therefore, the hz templates allow users to customize new templates and provide data sources for the template rendering parameters.</p><p>Template format:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>biz/handler/{{$HandlerName}}.go // path+filename, support rendering data</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>loop_method</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bool // Whether to generate multiple files according to the method defined in idl, to be used with path rendering</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>loop_service</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bool // whether to generate multiple files according to the service defined in idl, to be used with path rendering</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>update_behavior</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>// The update behavior of the file when using hz update</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>type: string // update behavior</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>skip/cover/append</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>append_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;method&#34;</span><span style=color:#000>/&#34;service&#34; // Specify the appended rendering data source, method/service, in the append behavior</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>insert_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>string // The &#34;key&#34; of the append logic in the append behavior, based on which to determine if appending is needed</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>append_content_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>string // Specify the template for appending content in the append behavior</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>import_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[]</span><span style=color:#000>string // The template to be added to the import</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>string // The template content of the generated file</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h4 id=template-data-source>Template Data Source</h4><ul><li>File path rendering: The following rendering data can be used when specifying a file path</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>FilePathRenderInfo</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>MasterIDLName</span>  <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// master IDL name 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>GenPackage</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// master IDL generate code package 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>HandlerDir</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// handler generate dir 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>ModelDir</span>       <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// model generate dir 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>RouterDir</span>      <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// router generate dir 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>ProjectDir</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// projectDir 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>GoModule</span>       <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// go module 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>ServiceName</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// service name, changed as services are traversed 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>MethodName</span>     <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// method name, changed as methods are traversed 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>HandlerGenPath</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// &#34;api.gen_path&#34; value
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><ul><li>Single file rendering data: the rendering data used when defining a single file, all IDL information can be extracted according to the definition of &ldquo;IDLPackageRenderInfo&rdquo;</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>CustomizedFileForIDL</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>IDLPackageRenderInfo</span>
	<span style=color:#000>FilePath</span>    <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>FilePackage</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><ul><li>Method level rendering data: when &ldquo;loop_method&rdquo; is specified, the rendering data used will be generated as a file for each method</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>CustomizedFileForMethod</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>HttpMethod</span> <span style=color:#8f5902;font-style:italic>// The specific information parsed for each method definition
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>FilePath</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// When the method file is generated in a loop, the path to the file
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>FilePackage</span> <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// When the method file is generated in a loop, the go package name of the file
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>ServiceInfo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Service</span> <span style=color:#8f5902;font-style:italic>// The information defined by the service to which the method belongs
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
   
<span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>HttpMethod</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>Name</span>            <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>HTTPMethod</span>      <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>Comment</span>         <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>RequestTypeName</span> <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>ReturnTypeName</span>  <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>Path</span>            <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>Serializer</span>      <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>OutputDir</span>       <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>Models</span> <span style=color:#204a87;font-weight:700>map</span><span style=color:#000;font-weight:700>[</span><span style=color:#204a87;font-weight:700>string</span><span style=color:#000;font-weight:700>]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Model</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><ul><li>Service level rendering data: when &ldquo;loop_service&rdquo; is specified, the rendering data will be used and a file will be generated for each service unit</li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>CustomizedFileForService</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>Service</span> <span style=color:#8f5902;font-style:italic>// specific information about the service, including the service name, information about the method defined in the servide, etc.
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>FilePath</span>       <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// When the service file is generated in a loop, the path to the file
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>FilePackage</span>    <span style=color:#204a87;font-weight:700>string</span> <span style=color:#8f5902;font-style:italic>// When the service file is looped, the go package name of the file 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>IDLPackageInfo</span> <span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>IDLPackageRenderInfo</span> <span style=color:#8f5902;font-style:italic>// Information about the IDL definition to which the service belongs
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>

<span style=color:#204a87;font-weight:700>type</span> <span style=color:#000>Service</span> <span style=color:#204a87;font-weight:700>struct</span> <span style=color:#000;font-weight:700>{</span>
	<span style=color:#000>Name</span>          <span style=color:#204a87;font-weight:700>string</span>
	<span style=color:#000>Methods</span>       <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>HttpMethod</span>
	<span style=color:#000>ClientMethods</span> <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>ClientMethod</span>
	<span style=color:#000>Models</span>        <span style=color:#000;font-weight:700>[]</span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#000>model</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Model</span> <span style=color:#8f5902;font-style:italic>// all dependency models 
</span><span style=color:#8f5902;font-style:italic></span>	<span style=color:#000>BaseDomain</span>    <span style=color:#204a87;font-weight:700>string</span>         <span style=color:#8f5902;font-style:italic>// base domain for client code
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>A simple example of a custom handler template is given below:</p><h4 id=example>example</h4><blockquote><p>example: <a href=https://github.com/cloudwego/hertz-examples/tree/main/hz/template>https://github.com/cloudwego/hertz-examples/tree/main/hz/template</a></p></blockquote><ul><li><p>Modify the content of the default handler</p></li><li><p>Add a single test file for handler</p></li></ul><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>layouts</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>handler.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>          {{$OutDirs := GetUniqueHandlerOutDir .Methods}}
</span><span style=color:#8f5902;font-style:italic>          package {{.PackageName}}
</span><span style=color:#8f5902;font-style:italic>          import (
</span><span style=color:#8f5902;font-style:italic>           &#34;context&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>           &#34;github.com/cloudwego/hertz/pkg/app&#34;
</span><span style=color:#8f5902;font-style:italic>            &#34;github.com/cloudwego/hertz/pkg/protocol/consts&#34;
</span><span style=color:#8f5902;font-style:italic>          {{- range $k, $v := .Imports}}
</span><span style=color:#8f5902;font-style:italic>           {{$k}} &#34;{{$v.Package}}&#34;
</span><span style=color:#8f5902;font-style:italic>          {{- end}}
</span><span style=color:#8f5902;font-style:italic>          {{- range $_, $OutDir := $OutDirs}}
</span><span style=color:#8f5902;font-style:italic>            {{if eq $OutDir &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>              &#34;{{$.ProjPackage}}/biz/service&#34;
</span><span style=color:#8f5902;font-style:italic>            {{- else -}}
</span><span style=color:#8f5902;font-style:italic>              &#34;{{$.ProjPackage}}/biz/service/{{$OutDir}}&#34;
</span><span style=color:#8f5902;font-style:italic>            {{- end -}}
</span><span style=color:#8f5902;font-style:italic>          {{- end}}
</span><span style=color:#8f5902;font-style:italic>          &#34;{{$.ProjPackage}}/biz/utils&#34;
</span><span style=color:#8f5902;font-style:italic>          )
</span><span style=color:#8f5902;font-style:italic>          {{range $_, $MethodInfo := .Methods}}
</span><span style=color:#8f5902;font-style:italic>          {{$MethodInfo.Comment}}
</span><span style=color:#8f5902;font-style:italic>          func {{$MethodInfo.Name}}(ctx context.Context, c *app.RequestContext) {
</span><span style=color:#8f5902;font-style:italic>           var err error
</span><span style=color:#8f5902;font-style:italic>           {{if ne $MethodInfo.RequestTypeName &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>           var req {{$MethodInfo.RequestTypeName}}
</span><span style=color:#8f5902;font-style:italic>           err = c.BindAndValidate(&amp;req)
</span><span style=color:#8f5902;font-style:italic>           if err != nil {
</span><span style=color:#8f5902;font-style:italic>              utils.SendErrResponse(ctx, c, consts.StatusOK, err)
</span><span style=color:#8f5902;font-style:italic>              return
</span><span style=color:#8f5902;font-style:italic>           }
</span><span style=color:#8f5902;font-style:italic>           {{end}}
</span><span style=color:#8f5902;font-style:italic>            {{if eq $MethodInfo.OutputDir &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>              resp,err := service.New{{$MethodInfo.Name}}Service(ctx, c).Run(&amp;req)
</span><span style=color:#8f5902;font-style:italic>              if err != nil {
</span><span style=color:#8f5902;font-style:italic>                   utils.SendErrResponse(ctx, c, consts.StatusOK, err)
</span><span style=color:#8f5902;font-style:italic>                   return
</span><span style=color:#8f5902;font-style:italic>              }
</span><span style=color:#8f5902;font-style:italic>            {{else}}
</span><span style=color:#8f5902;font-style:italic>              resp,err := {{$MethodInfo.OutputDir}}.New{{$MethodInfo.Name}}Service(ctx, c).Run(&amp;req)
</span><span style=color:#8f5902;font-style:italic>              if err != nil {
</span><span style=color:#8f5902;font-style:italic>                      utils.SendErrResponse(ctx, c, consts.StatusOK, err)
</span><span style=color:#8f5902;font-style:italic>                      return
</span><span style=color:#8f5902;font-style:italic>              }
</span><span style=color:#8f5902;font-style:italic>            {{end}}
</span><span style=color:#8f5902;font-style:italic>           utils.SendSuccessResponse(ctx, c, consts.StatusOK, resp)
</span><span style=color:#8f5902;font-style:italic>          }
</span><span style=color:#8f5902;font-style:italic>          {{end}}</span><span style=color:#f8f8f8;text-decoration:underline>          
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>update_behavior</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>import_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>              </span>- <span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>                  {{$OutDirs := GetUniqueHandlerOutDir .Methods}}
</span><span style=color:#8f5902;font-style:italic>                  {{- range $_, $OutDir := $OutDirs}}
</span><span style=color:#8f5902;font-style:italic>                    {{if eq $OutDir &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>                      &#34;{{$.ProjPackage}}/biz/service&#34;
</span><span style=color:#8f5902;font-style:italic>                    {{- else -}}
</span><span style=color:#8f5902;font-style:italic>                      &#34;{{$.ProjPackage}}/biz/service/{{$OutDir}}&#34;
</span><span style=color:#8f5902;font-style:italic>                    {{end}}
</span><span style=color:#8f5902;font-style:italic>                  {{- end}}</span><span style=color:#f8f8f8;text-decoration:underline>                  
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>handler_single.go</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|+</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>          {{.Comment}}
</span><span style=color:#8f5902;font-style:italic>          func {{.Name}}(ctx context.Context, c *app.RequestContext) {
</span><span style=color:#8f5902;font-style:italic>           var err error
</span><span style=color:#8f5902;font-style:italic>           {{if ne .RequestTypeName &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>           var req {{.RequestTypeName}}
</span><span style=color:#8f5902;font-style:italic>           err = c.BindAndValidate(&amp;req)
</span><span style=color:#8f5902;font-style:italic>           if err != nil {
</span><span style=color:#8f5902;font-style:italic>              utils.SendErrResponse(ctx, c, consts.StatusOK, err)
</span><span style=color:#8f5902;font-style:italic>              return
</span><span style=color:#8f5902;font-style:italic>           }
</span><span style=color:#8f5902;font-style:italic>           {{end}}
</span><span style=color:#8f5902;font-style:italic>           {{if eq .OutputDir &#34;&#34; -}}
</span><span style=color:#8f5902;font-style:italic>              resp,err := service.New{{.Name}}Service(ctx, c).Run(&amp;req)
</span><span style=color:#8f5902;font-style:italic>            {{else}}
</span><span style=color:#8f5902;font-style:italic>              resp,err := {{.OutputDir}}.New{{.Name}}Service(ctx, c).Run(&amp;req)
</span><span style=color:#8f5902;font-style:italic>            {{end}}
</span><span style=color:#8f5902;font-style:italic>            if err != nil {
</span><span style=color:#8f5902;font-style:italic>                  utils.SendErrResponse(ctx, c, consts.StatusOK, err)
</span><span style=color:#8f5902;font-style:italic>                  return
</span><span style=color:#8f5902;font-style:italic>            }
</span><span style=color:#8f5902;font-style:italic>           utils.SendSuccessResponse(ctx, c, consts.StatusOK, resp)
</span><span style=color:#8f5902;font-style:italic>          }=</span><span style=color:#f8f8f8;text-decoration:underline>          
</span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>path</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{.HandlerDir}}/{{.GenPackage}}/{{ToSnakeCase .ServiceName}}_test.go&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>loop_service</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>update_behavior</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;append&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>append_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;method&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>insert_key</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Test{{$.Name}}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>append_tpl</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>              func Test{{.Name}}(t *testing.T) {
</span><span style=color:#8f5902;font-style:italic>                h := server.Default()
</span><span style=color:#8f5902;font-style:italic>                h.GET(&#34;{{.Path}}&#34;, {{.Name}})
</span><span style=color:#8f5902;font-style:italic>                w := ut.PerformRequest(h.Engine, &#34;{{.HTTPMethod}}&#34;, &#34;{{.Path}}&#34;, &amp;ut.Body{Body: bytes.NewBufferString(&#34;&#34;), Len: 1},
</span><span style=color:#8f5902;font-style:italic>                ut.Header{})
</span><span style=color:#8f5902;font-style:italic>                resp := w.Result()
</span><span style=color:#8f5902;font-style:italic>                assert.DeepEqual(t, 201, resp.StatusCode())
</span><span style=color:#8f5902;font-style:italic>                assert.DeepEqual(t, &#34;&#34;, string(resp.Body()))
</span><span style=color:#8f5902;font-style:italic>                // todo edit your unit test.
</span><span style=color:#8f5902;font-style:italic>              }</span><span style=color:#f8f8f8;text-decoration:underline>              
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>body</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>|-</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>          package {{.FilePackage}}
</span><span style=color:#8f5902;font-style:italic>          import (
</span><span style=color:#8f5902;font-style:italic>            &#34;bytes&#34;
</span><span style=color:#8f5902;font-style:italic>            &#34;testing&#34;
</span><span style=color:#8f5902;font-style:italic>
</span><span style=color:#8f5902;font-style:italic>            &#34;github.com/cloudwego/hertz/pkg/app/server&#34;
</span><span style=color:#8f5902;font-style:italic>            &#34;github.com/cloudwego/hertz/pkg/common/test/assert&#34;
</span><span style=color:#8f5902;font-style:italic>            &#34;github.com/cloudwego/hertz/pkg/common/ut&#34;
</span><span style=color:#8f5902;font-style:italic>          )
</span><span style=color:#8f5902;font-style:italic>          {{range $_, $MethodInfo := $.Methods}}
</span><span style=color:#8f5902;font-style:italic>            func Test{{$MethodInfo.Name}}(t *testing.T) {
</span><span style=color:#8f5902;font-style:italic>            h := server.Default()
</span><span style=color:#8f5902;font-style:italic>            h.GET(&#34;{{$MethodInfo.Path}}&#34;, {{$MethodInfo.Name}})
</span><span style=color:#8f5902;font-style:italic>            w := ut.PerformRequest(h.Engine, &#34;{{$MethodInfo.HTTPMethod}}&#34;, &#34;{{$MethodInfo.Path}}&#34;, &amp;ut.Body{Body: bytes.NewBufferString(&#34;&#34;), Len: 1},
</span><span style=color:#8f5902;font-style:italic>            ut.Header{})
</span><span style=color:#8f5902;font-style:italic>            resp := w.Result()
</span><span style=color:#8f5902;font-style:italic>            assert.DeepEqual(t, 201, resp.StatusCode())
</span><span style=color:#8f5902;font-style:italic>            assert.DeepEqual(t, &#34;&#34;, string(resp.Body()))
</span><span style=color:#8f5902;font-style:italic>            // todo edit your unit test.
</span><span style=color:#8f5902;font-style:italic>            }
</span><span style=color:#8f5902;font-style:italic>          {{end}}</span><span style=color:#f8f8f8;text-decoration:underline>          
</span></code></pre></div><h2 id=mvc-template-practice>MVC Template Practice</h2><p>Hertz provides a best practice for customizing templates for MVC, see <a href=https://github.com/cloudwego/hertz-examples/tree/main/hz/template>code</a> for code details.</p><h2 id=precautions>Precautions</h2><h3 id=precautions-for-using-layout-templates>Precautions for using layout templates</h3><p>When the user uses the layout custom template, the generated layout and rendering data are taken over by the user, so the user needs to provide the rendering data of the defined layout.</p><h3 id=precautions-for-using-package-templates>Precautions for using package templates</h3><p>Generally speaking, when users use package templates, most of them are to modify the default handler template; however, hz does not provide a single handler template at present, so when updating an existing handler file, the default handler template will be used to append a new handler function to the end of the handler file. When the corresponding handler file does not exist, a custom template will be used to generate the handler file.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
April 11, 2023
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/237eda3f3f9aaa78d070c6eb9b823760cd1285c2>chore: fix npm security issue (#600) (237eda3)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Lark aria-label=Lark><a class=text-white target=_blank rel=noopener href="https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=693v2544-2664-4421-b50f-7f1912p745r6" aria-label=Lark><img src=/webfonts/lark.svg alt style=width:26px;line-height:32.5px;margin-bottom:6px></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/CloudWeGo aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/cloudwego aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank rel=noopener href=https://join.slack.com/t/cloudwego/shared_invite/zt-tmcbzewn-UjXMF3ZQsPhl7W3tEDZboA aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The CloudWeGo Authors</small><p class="mt-2 text-white"><a class=cloudwego-link href=/about/ target=_blank rel=noopener>About</a>
|
<a class=cloudwego-link href=https://github.com/cloudwego/cloudwego.github.io/blob/main/LICENSE target=_blank rel=noopener>License</a></p></div></div></div></footer></div><script src=https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.staticfile.org/bootstrap/4.6.0/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.cc7c4d018c27afc5b5c4e9ddd9f5b1fca60e2005312b12b5bec0518202c51314.js integrity="sha256-zHxNAYwnr8W1xOnd2fWx/KYOIAUxKxK1vsBRggLFExQ=" crossorigin=anonymous></script><script src=/js/prism.js></script><script src=/js/outbound-link.js></script><script src=/js/navScroll.js></script></body></html>
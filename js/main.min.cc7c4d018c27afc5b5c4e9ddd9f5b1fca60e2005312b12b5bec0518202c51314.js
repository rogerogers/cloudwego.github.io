(function(a){'use strict';a(function(){a('[data-toggle="tooltip"]').tooltip(),a('[data-toggle="popover"]').popover(),a('.popover-dismiss').popover({trigger:'focus'})});function b(a){return a.offset().top+a.outerHeight()}a(function(){var c=a(".js-td-cover"),e,f,d;if(!c.length)return;e=b(c),f=a('.js-navbar-scroll').offset().top,d=Math.ceil(a('.js-navbar-scroll').outerHeight()),e-f<d&&a('.js-navbar-scroll').addClass('navbar-bg-onscroll'),a(window).on('scroll',function(){var f=a('.js-navbar-scroll').offset().top-a(window).scrollTop(),c=b(a('.js-td-cover')),e=a('.js-navbar-scroll').offset().top;c-e<d?a('.js-navbar-scroll').addClass('navbar-bg-onscroll'):(a('.js-navbar-scroll').removeClass('navbar-bg-onscroll'),a('.js-navbar-scroll').addClass('navbar-bg-onscroll--fade'))})})})(jQuery),function(a){a.safetyData=[{id:1,bulletin:'CloudWeGo-SA-2022-1',digest:'Connection Leaking',influence:['kitex-v0.1.3'],level:'Low',publish:'2022-01-13'},{id:2,bulletin:'CloudWeGo-SA-2022-2',digest:'Netpoll Panic',influence:['netpoll-v0.2.2','kitex-v0.3.0'],level:'Middle',publish:'2022-05-09'}]}(jQuery),function(a){'use strict';function b(d,a){const b=d('#bulletinTable > tbody'),e=location.href.indexOf('zh')>-1?'/zh':'';let c='';if(a.length===0){b.html('<tr><td colspan="5">&nbsp;</td></tr>');return}for(let d=0;d<a.length;d++){const b=a[d],f=["<tr><td><a href='"+e+'/security/safety-bulletin/detail/'+b.bulletin.toLowerCase()+"/'>"+b.bulletin+'</a>','<td>'+b.digest+'</td>','<td>'+b.level+'</td>','<td>'+b.influence.join('<br/>')+'</td>','<td>'+b.publish+'</td></tr>'].join('\n');c+=f}b.html(c)}function c(g,a,c,d){const e=a=>a.reduce((a,b)=>(...c)=>a(b(...c))),f={getAll:a=>a,getWord:b=>b.filter(b=>b.bulletin.indexOf(a)>-1||b.digest.indexOf(a)>-1||b.influence.join('').indexOf(a)>-1),getLevel:a=>a.filter(a=>a.level.toLowerCase()===c),getYear:a=>a.filter(a=>a.publish.indexOf(d)>-1)},{getAll:b,getWord:h,getLevel:i,getYear:j}=f,k=[a===''?b:h,c==='all'?b:i,d==='all'?b:j];return e([...k])(g)}function d(a,g){let d='',e='all',f='all';a(document).on('blur','#safetyBulletinSearch',function(h){h.preventDefault(),d=a(h.target).val().trim();const i=c(g,d,e,f);b(a,i)}),a(document).on('click','[name^="safetyBtn"]',function(h){e=a(h.target).val();const i=c(g,d,e,f);b(a,i)}),a(document).on('change','#yearSelect',function(h){f=a(h.target).val();const i=c(g,d,e,f);b(a,i)})}b(a,a.safetyData),d(a,a.safetyData)}(jQuery),function(a){'use strict';a(function(){var a=document.getElementsByTagName('main')[0],b;if(!a)return;b=a.querySelectorAll('h1, h2, h3, h4, h5, h6'),b.forEach(function(b){if(b.id){var a=document.createElement('a');a.style.visibility='hidden',a.setAttribute('aria-hidden','true'),a.innerHTML=' <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>',a.href='#'+b.id,b.insertAdjacentElement('beforeend',a),b.addEventListener('mouseenter',function(){a.style.visibility='initial'}),b.addEventListener('mouseleave',function(){a.style.visibility='hidden'})}})})}(jQuery),function(a){'use strict';a(document).ready(function(){const b=a('.td-search-input');b.data('html',!0),b.data('placement','bottom'),b.data('template','<div class="popover offline-search-result" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'),b.on('change',c=>{e(a(c.target)),b.blur()}),b.closest('form').on('submit',()=>!1);let c=null;const d=new Map;a.ajax(b.data('offline-search-index-json-src')).then(a=>{c=lunr(function(){this.ref('ref'),this.field('title',{boost:5}),this.field('categories',{boost:3}),this.field('tags',{boost:3}),this.field('description',{boost:2}),this.field('body'),a.forEach(a=>{this.add(a),d.set(a.ref,{title:a.title,excerpt:a.excerpt})})}),b.trigger('change')});const e=e=>{if(e.popover('dispose'),c===null)return;const f=e.val();if(f==='')return;const i=c.query(a=>{const b=lunr.tokenizer(f.toLowerCase());b.forEach(c=>{const b=c.toString();a.term(b,{boost:100}),a.term(b,{wildcard:lunr.Query.wildcard.LEADING|lunr.Query.wildcard.TRAILING,boost:10}),a.term(b,{editDistance:2})})}).slice(0,e.data('offline-search-max-results')),g=a('<div>');g.append(a('<div>').css({display:'flex',justifyContent:'space-between',marginBottom:'1em'}).append(a('<span>').text('Search results').css({fontWeight:'bold'})).append(a('<i>').addClass('fas fa-times search-result-close-button').css({cursor:'pointer'})));const h=a('<div>').css({maxHeight:`calc(100vh - ${e.offset().top-a(window).scrollTop()+180}px)`,overflowY:'auto'});g.append(h),i.length===0?h.append(a('<p>').text(`No results found for query "${f}"`)):i.forEach(e=>{const f=d.get(e.ref),g=b.data('offline-search-base-href')+e.ref.replace(/^\//,''),c=a('<div>').addClass('mt-4');c.append(a('<small>').addClass('d-block text-muted').text(e.ref)),c.append(a('<a>').addClass('d-block').css({fontSize:'1.2rem'}).attr('href',g).text(f.title)),c.append(a('<p>').text(f.excerpt)),h.append(c)}),e.on('shown.bs.popover',()=>{a('.search-result-close-button').on('click',()=>{e.val(''),e.trigger('change')})});const j=a.fn.tooltip.Constructor.Default.whiteList;j['*'].push('style'),e.data('content',g[0].outerHTML).popover({whiteList:j}).popover('show')}})}(jQuery)